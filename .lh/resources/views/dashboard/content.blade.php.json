{
    "sourceFile": "resources/views/dashboard/content.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 44,
            "patches": [
                {
                    "date": 1719405875939,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1719405890427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n <x-dashboard-layout>\n     <div class=\"container-fluid mt-5\">\n-        <h1>Gestione Servizi</h1>\n+        <h1>Gestione Contenuti</h1>\n         @if (session('success'))\n             <div class=\"alert alert-success\">\n                 {{ session('success') }}\n             </div>\n"
                },
                {
                    "date": 1719405899662,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,304 @@\n+<x-dashboard-layout>\n+    <div class=\"container-fluid mt-5\">\n+        <h1>Gestione Contenuti</h1>\n+        @if (session('success'))\n+            <div class=\"alert alert-success\">\n+                {{ session('success') }}\n+            </div>\n+        @endif\n+\n+        <!-- Form per aggiungere un nuovo contenuto -->\n+        <form action=\"{{ route('services.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n+            @csrf\n+            <div class=\"row\">\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"title\" class=\"form-label\">Titolo</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"subtitleSec\" class=\"form-label\">Sottotitolo Secondario</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"subtitleSec\" name=\"subtitleSec\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"abstract\" class=\"form-label\">Abstract</label>\n+                        <textarea class=\"form-control\" id=\"abstract\" name=\"abstract\" required></textarea>\n+                    </div>\n+                </div>\n+            </div>\n+\n+\n+            <div class=\"mb-3\">\n+                <label for=\"body\" class=\"form-label\">Body</label>\n+                <textarea class=\"form-control\" id=\"body\" name=\"body\" required></textarea>\n+            </div>\n+            <div class=\"mb-3\">\n+                <label for=\"condition\" class=\"form-label\">Condizioni</label>\n+                <textarea class=\"form-control\" id=\"condition\" name=\"condition\" required></textarea>\n+            </div>\n+            <div class=\"row\">\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"images\" class=\"form-label\">Immagini</label>\n+                        <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"links\" class=\"form-label\">Links</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n+                    </div>\n+                </div>\n+            </div>\n+\n+\n+\n+\n+            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Servizio</button>\n+        </form>\n+\n+        <hr>\n+\n+        <table class=\"table\">\n+            <thead>\n+                <tr>\n+                    <th>#</th>\n+                    <th>Titolo</th>\n+                    <th>Sottotitolo</th>\n+                    <th>Sottotitolo Secondario</th>\n+                    <th>Abstract</th>\n+                    <th>Body</th>\n+                    <th>Links</th>\n+                    <th>Condizioni</th>\n+                    <th>Immagini</th>\n+                    <th>Azioni</th>\n+                </tr>\n+            </thead>\n+            <tbody>\n+                @foreach ($services as $service)\n+                    <tr>\n+                        <td>{{ $service->id }}</td>\n+                        <td>{{ $service->title }}</td>\n+                        <td>{{ $service->subtitle }}</td>\n+                        <td>{{ $service->subtitleSec }}</td>\n+                        <td>{{ $service->abstract }}</td>\n+                        <td>{{ $service->body }}</td>\n+                        <td>{{ $service->links }}</td>\n+                        <td>{{ $service->condition }}</td>\n+                        <td>\n+                            {{-- @foreach ($service->images as $image)\n+                                <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n+                            @endforeach --}}\n+                            @if ($service->images->count() > 0)\n+                                <small>\n+                                    {{ $service->images->count() }} immagini caricate\n+                                </small>\n+                            @else\n+                                <small>Nessuna immagine</small>\n+                            @endif\n+                        </td>\n+                        <td>\n+                            <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n+                                data-bs-target=\"#serviceDetailsModal\" data-service=\"{{ json_encode($service) }}\">\n+                                Modifica\n+                            </button>\n+                            <form action=\"{{ route('services.destroy', $service) }}\" method=\"POST\"\n+                                style=\"display:inline-block;\">\n+                                @csrf\n+                                @method('DELETE')\n+                                <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n+                            </form>\n+                        </td>\n+                    </tr>\n+                @endforeach\n+            </tbody>\n+        </table>\n+    </div>\n+\n+    <!-- Modale per modificare i dettagli del servizio -->\n+    <div class=\"modal fade\" id=\"serviceDetailsModal\" tabindex=\"-1\" aria-labelledby=\"serviceDetailsModalLabel\"\n+        aria-hidden=\"true\">\n+        <div class=\"modal-dialog\">\n+            <div class=\"modal-content\">\n+                <div class=\"modal-header\">\n+                    <h5 class=\"modal-title\" id=\"serviceDetailsModalLabel\">Modifica Servizio</h5>\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n+                </div>\n+                <div class=\"modal-body\">\n+                    <form id=\"serviceDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n+                        @csrf\n+                        @method('PUT')\n+                        <div class=\"mb-3\">\n+                            <label for=\"title\" class=\"form-label\">Titolo</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"subtitleSec\" class=\"form-label\">Sottotitolo Secondario</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"subtitleSec\" name=\"subtitleSec\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"abstract\" class=\"form-label\">Abstract</label>\n+                            <textarea class=\"form-control\" id=\"abstract\" name=\"abstract\"></textarea>\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"body\" class=\"form-label\">Body</label>\n+                            <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"links\" class=\"form-label\">Links</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"condition\" class=\"form-label\">Condizioni</label>\n+                            <textarea class=\"form-control\" id=\"condition\" name=\"condition\"></textarea>\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"images\" class=\"form-label\">Immagini</label>\n+                            <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n+                            <div id=\"current-images\" class=\"mt-3\">\n+                                <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n+                            </div>\n+                        </div>\n+                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Servizio</button>\n+                    </form>\n+                </div>\n+            </div>\n+        </div>\n+    </div>\n+\n+    <!-- JavaScript per il modale -->\n+    <script>\n+        document.addEventListener(\"DOMContentLoaded\", function() {\n+            // Funzione per mostrare le anteprime delle immagini\n+            function showImagePreviews(files) {\n+                const previewContainer = document.getElementById('current-images');\n+                if (!previewContainer) {\n+                    console.error('Preview container not found.');\n+                    return;\n+                }\n+                previewContainer.innerHTML = '';\n+                Array.from(files).forEach(file => {\n+                    const reader = new FileReader();\n+                    reader.onload = function(e) {\n+                        const imgDiv = document.createElement('div');\n+                        imgDiv.classList.add('current-image');\n+                        imgDiv.innerHTML = `\n+                    <img src=\"${e.target.result}\" alt=\"Immagine\" width=\"100\">\n+                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image-temp\">Elimina</button>\n+                `;\n+                        previewContainer.appendChild(imgDiv);\n+                    };\n+                    reader.readAsDataURL(file);\n+                });\n+            }\n+\n+            // Funzione per gestire la rimozione delle immagini\n+            function handleRemoveImage(imageId) {\n+                const csrfTokenElement = document.querySelector('meta[name=\"csrf-token\"]');\n+                if (!csrfTokenElement) {\n+                    console.error('Elemento CSRF Token non trovato nel documento.');\n+                    return;\n+                }\n+\n+                const csrfToken = csrfTokenElement.getAttribute('content');\n+                fetch(`/dashboard/images/${imageId}`, {\n+                    method: 'DELETE',\n+                    headers: {\n+                        'X-CSRF-TOKEN': csrfToken\n+                    }\n+                }).then(response => {\n+                    if (!response.ok) {\n+                        throw new Error('Errore nella richiesta di eliminazione: ' + response.status);\n+                    }\n+                    return response.json();\n+                }).then(data => {\n+                    if (data.success) {\n+                        // Rimuovi l'elemento visuale dell'immagine\n+                        const imageElement = document.querySelector(\n+                            `.remove-image[data-image-id=\"${imageId}\"]`);\n+                        if (imageElement) {\n+                            imageElement.parentElement.remove();\n+                        }\n+                    } else {\n+                        console.error('Errore nella risposta di eliminazione:', data.error);\n+                    }\n+                }).catch(error => {\n+                    console.error('Errore nella richiesta di eliminazione:', error);\n+                });\n+\n+            }\n+\n+\n+            // Aggiungi evento al cambio di input per mostrare le anteprime delle immagini\n+            document.getElementById('images').addEventListener('change', function() {\n+                showImagePreviews(this.files);\n+            });\n+\n+            // Gestisci il click sui pulsanti \"Elimina Immagine\"\n+            document.addEventListener('click', function(event) {\n+                if (event.target.classList.contains('remove-image')) {\n+                    const imageId = event.target.getAttribute('data-image-id');\n+                    if (imageId) {\n+                        handleRemoveImage(imageId);\n+                    }\n+                }\n+            });\n+\n+            // Aggiungi evento al modale dei dettagli del servizio per gestire le immagini esistenti\n+            document.querySelectorAll('.open-details-modal').forEach(button => {\n+                button.addEventListener('click', () => {\n+                    const service = JSON.parse(button.getAttribute('data-service'));\n+                    const form = document.getElementById('serviceDetailsForm');\n+                    if (!form) {\n+                        console.error('Form element not found.');\n+                        return;\n+                    }\n+                    form.action = `/dashboard/services/${service.id}`;\n+                    form.querySelector('#title').value = service.title;\n+                    form.querySelector('#subtitle').value = service.subtitle;\n+                    form.querySelector('#subtitleSec').value = service.subtitleSec;\n+                    form.querySelector('#abstract').value = service.abstract;\n+                    form.querySelector('#body').value = service.body;\n+                    form.querySelector('#links').value = service.links;\n+                    form.querySelector('#condition').value = service.condition;\n+\n+                    // Mostra le immagini esistenti nel modale\n+                    const currentImagesDiv = document.getElementById('current-images');\n+                    if (!currentImagesDiv) {\n+                        console.error('Current images container not found.');\n+                        return;\n+                    }\n+                    currentImagesDiv.innerHTML = '';\n+                    service.images.forEach(image => {\n+                        const imgDiv = document.createElement('div');\n+                        imgDiv.classList.add('current-image');\n+                        imgDiv.innerHTML = `\n+                    <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n+                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image\" data-image-id=\"${image.id}\">Elimina</button>\n+                `;\n+                        currentImagesDiv.appendChild(imgDiv);\n+                    });\n+                });\n+            });\n+        });\n+    </script>\n+\n+\n+\n+\n+\n+</x-dashboard-layout>\n"
                },
                {
                    "date": 1719406673821,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,10 +24,10 @@\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n-                        <label for=\"subtitleSec\" class=\"form-label\">Sottotitolo Secondario</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"subtitleSec\" name=\"subtitleSec\" required>\n+                        <label for=\"body\" class=\"form-label\">Sottotitolo Secondario</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"body\" name=\"body\" required>\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n@@ -301,308 +301,4 @@\n \n \n \n </x-dashboard-layout>\n-<x-dashboard-layout>\n-    <div class=\"container-fluid mt-5\">\n-        <h1>Gestione Contenuti</h1>\n-        @if (session('success'))\n-            <div class=\"alert alert-success\">\n-                {{ session('success') }}\n-            </div>\n-        @endif\n-\n-        <!-- Form per aggiungere un nuovo servizio -->\n-        <form action=\"{{ route('services.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n-            @csrf\n-            <div class=\"row\">\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"title\" class=\"form-label\">Titolo</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"subtitleSec\" class=\"form-label\">Sottotitolo Secondario</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"subtitleSec\" name=\"subtitleSec\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"abstract\" class=\"form-label\">Abstract</label>\n-                        <textarea class=\"form-control\" id=\"abstract\" name=\"abstract\" required></textarea>\n-                    </div>\n-                </div>\n-            </div>\n-\n-\n-            <div class=\"mb-3\">\n-                <label for=\"body\" class=\"form-label\">Body</label>\n-                <textarea class=\"form-control\" id=\"body\" name=\"body\" required></textarea>\n-            </div>\n-            <div class=\"mb-3\">\n-                <label for=\"condition\" class=\"form-label\">Condizioni</label>\n-                <textarea class=\"form-control\" id=\"condition\" name=\"condition\" required></textarea>\n-            </div>\n-            <div class=\"row\">\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"images\" class=\"form-label\">Immagini</label>\n-                        <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"links\" class=\"form-label\">Links</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n-                    </div>\n-                </div>\n-            </div>\n-\n-\n-\n-\n-            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Servizio</button>\n-        </form>\n-\n-        <hr>\n-\n-        <table class=\"table\">\n-            <thead>\n-                <tr>\n-                    <th>#</th>\n-                    <th>Titolo</th>\n-                    <th>Sottotitolo</th>\n-                    <th>Sottotitolo Secondario</th>\n-                    <th>Abstract</th>\n-                    <th>Body</th>\n-                    <th>Links</th>\n-                    <th>Condizioni</th>\n-                    <th>Immagini</th>\n-                    <th>Azioni</th>\n-                </tr>\n-            </thead>\n-            <tbody>\n-                @foreach ($services as $service)\n-                    <tr>\n-                        <td>{{ $service->id }}</td>\n-                        <td>{{ $service->title }}</td>\n-                        <td>{{ $service->subtitle }}</td>\n-                        <td>{{ $service->subtitleSec }}</td>\n-                        <td>{{ $service->abstract }}</td>\n-                        <td>{{ $service->body }}</td>\n-                        <td>{{ $service->links }}</td>\n-                        <td>{{ $service->condition }}</td>\n-                        <td>\n-                            {{-- @foreach ($service->images as $image)\n-                                <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n-                            @endforeach --}}\n-                            @if ($service->images->count() > 0)\n-                                <small>\n-                                    {{ $service->images->count() }} immagini caricate\n-                                </small>\n-                            @else\n-                                <small>Nessuna immagine</small>\n-                            @endif\n-                        </td>\n-                        <td>\n-                            <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n-                                data-bs-target=\"#serviceDetailsModal\" data-service=\"{{ json_encode($service) }}\">\n-                                Modifica\n-                            </button>\n-                            <form action=\"{{ route('services.destroy', $service) }}\" method=\"POST\"\n-                                style=\"display:inline-block;\">\n-                                @csrf\n-                                @method('DELETE')\n-                                <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n-                            </form>\n-                        </td>\n-                    </tr>\n-                @endforeach\n-            </tbody>\n-        </table>\n-    </div>\n-\n-    <!-- Modale per modificare i dettagli del servizio -->\n-    <div class=\"modal fade\" id=\"serviceDetailsModal\" tabindex=\"-1\" aria-labelledby=\"serviceDetailsModalLabel\"\n-        aria-hidden=\"true\">\n-        <div class=\"modal-dialog\">\n-            <div class=\"modal-content\">\n-                <div class=\"modal-header\">\n-                    <h5 class=\"modal-title\" id=\"serviceDetailsModalLabel\">Modifica Servizio</h5>\n-                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n-                </div>\n-                <div class=\"modal-body\">\n-                    <form id=\"serviceDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n-                        @csrf\n-                        @method('PUT')\n-                        <div class=\"mb-3\">\n-                            <label for=\"title\" class=\"form-label\">Titolo</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"subtitleSec\" class=\"form-label\">Sottotitolo Secondario</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"subtitleSec\" name=\"subtitleSec\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"abstract\" class=\"form-label\">Abstract</label>\n-                            <textarea class=\"form-control\" id=\"abstract\" name=\"abstract\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"body\" class=\"form-label\">Body</label>\n-                            <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"links\" class=\"form-label\">Links</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"condition\" class=\"form-label\">Condizioni</label>\n-                            <textarea class=\"form-control\" id=\"condition\" name=\"condition\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"images\" class=\"form-label\">Immagini</label>\n-                            <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n-                            <div id=\"current-images\" class=\"mt-3\">\n-                                <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n-                            </div>\n-                        </div>\n-                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Servizio</button>\n-                    </form>\n-                </div>\n-            </div>\n-        </div>\n-    </div>\n-\n-    <!-- JavaScript per il modale -->\n-    <script>\n-        document.addEventListener(\"DOMContentLoaded\", function() {\n-            // Funzione per mostrare le anteprime delle immagini\n-            function showImagePreviews(files) {\n-                const previewContainer = document.getElementById('current-images');\n-                if (!previewContainer) {\n-                    console.error('Preview container not found.');\n-                    return;\n-                }\n-                previewContainer.innerHTML = '';\n-                Array.from(files).forEach(file => {\n-                    const reader = new FileReader();\n-                    reader.onload = function(e) {\n-                        const imgDiv = document.createElement('div');\n-                        imgDiv.classList.add('current-image');\n-                        imgDiv.innerHTML = `\n-                    <img src=\"${e.target.result}\" alt=\"Immagine\" width=\"100\">\n-                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image-temp\">Elimina</button>\n-                `;\n-                        previewContainer.appendChild(imgDiv);\n-                    };\n-                    reader.readAsDataURL(file);\n-                });\n-            }\n-\n-            // Funzione per gestire la rimozione delle immagini\n-            function handleRemoveImage(imageId) {\n-                const csrfTokenElement = document.querySelector('meta[name=\"csrf-token\"]');\n-                if (!csrfTokenElement) {\n-                    console.error('Elemento CSRF Token non trovato nel documento.');\n-                    return;\n-                }\n-\n-                const csrfToken = csrfTokenElement.getAttribute('content');\n-                fetch(`/dashboard/images/${imageId}`, {\n-                    method: 'DELETE',\n-                    headers: {\n-                        'X-CSRF-TOKEN': csrfToken\n-                    }\n-                }).then(response => {\n-                    if (!response.ok) {\n-                        throw new Error('Errore nella richiesta di eliminazione: ' + response.status);\n-                    }\n-                    return response.json();\n-                }).then(data => {\n-                    if (data.success) {\n-                        // Rimuovi l'elemento visuale dell'immagine\n-                        const imageElement = document.querySelector(\n-                            `.remove-image[data-image-id=\"${imageId}\"]`);\n-                        if (imageElement) {\n-                            imageElement.parentElement.remove();\n-                        }\n-                    } else {\n-                        console.error('Errore nella risposta di eliminazione:', data.error);\n-                    }\n-                }).catch(error => {\n-                    console.error('Errore nella richiesta di eliminazione:', error);\n-                });\n-\n-            }\n-\n-\n-            // Aggiungi evento al cambio di input per mostrare le anteprime delle immagini\n-            document.getElementById('images').addEventListener('change', function() {\n-                showImagePreviews(this.files);\n-            });\n-\n-            // Gestisci il click sui pulsanti \"Elimina Immagine\"\n-            document.addEventListener('click', function(event) {\n-                if (event.target.classList.contains('remove-image')) {\n-                    const imageId = event.target.getAttribute('data-image-id');\n-                    if (imageId) {\n-                        handleRemoveImage(imageId);\n-                    }\n-                }\n-            });\n-\n-            // Aggiungi evento al modale dei dettagli del servizio per gestire le immagini esistenti\n-            document.querySelectorAll('.open-details-modal').forEach(button => {\n-                button.addEventListener('click', () => {\n-                    const service = JSON.parse(button.getAttribute('data-service'));\n-                    const form = document.getElementById('serviceDetailsForm');\n-                    if (!form) {\n-                        console.error('Form element not found.');\n-                        return;\n-                    }\n-                    form.action = `/dashboard/services/${service.id}`;\n-                    form.querySelector('#title').value = service.title;\n-                    form.querySelector('#subtitle').value = service.subtitle;\n-                    form.querySelector('#subtitleSec').value = service.subtitleSec;\n-                    form.querySelector('#abstract').value = service.abstract;\n-                    form.querySelector('#body').value = service.body;\n-                    form.querySelector('#links').value = service.links;\n-                    form.querySelector('#condition').value = service.condition;\n-\n-                    // Mostra le immagini esistenti nel modale\n-                    const currentImagesDiv = document.getElementById('current-images');\n-                    if (!currentImagesDiv) {\n-                        console.error('Current images container not found.');\n-                        return;\n-                    }\n-                    currentImagesDiv.innerHTML = '';\n-                    service.images.forEach(image => {\n-                        const imgDiv = document.createElement('div');\n-                        imgDiv.classList.add('current-image');\n-                        imgDiv.innerHTML = `\n-                    <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n-                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image\" data-image-id=\"${image.id}\">Elimina</button>\n-                `;\n-                        currentImagesDiv.appendChild(imgDiv);\n-                    });\n-                });\n-            });\n-        });\n-    </script>\n-\n-\n-\n-\n-\n-</x-dashboard-layout>\n"
                },
                {
                    "date": 1719406680961,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n             <div class=\"row\">\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n                         <label for=\"title\" class=\"form-label\">Titolo</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\" required>\n+                        <input type=\"string\" class=\"form-control\" id=\"title\" name=\"title\" required>\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n"
                },
                {
                    "date": 1719406690170,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n-                        <label for=\"body\" class=\"form-label\">Sottotitolo Secondario</label>\n+                        <label for=\"body\" class=\"form-label\">Corpo</label>\n                         <input type=\"text\" class=\"form-control\" id=\"body\" name=\"body\" required>\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n"
                },
                {
                    "date": 1719406714488,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,10 +30,10 @@\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n-                        <label for=\"abstract\" class=\"form-label\">Abstract</label>\n-                        <textarea class=\"form-control\" id=\"abstract\" name=\"abstract\" required></textarea>\n+                        <label for=\"\" class=\"form-label\"></label>\n+                        <textarea class=\"form-control\" id=\"\" name=\"\" required></textarea>\n                     </div>\n                 </div>\n             </div>\n \n"
                },
                {
                    "date": 1719406739642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,23 +30,14 @@\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n-                        <label for=\"\" class=\"form-label\"></label>\n-                        <textarea class=\"form-control\" id=\"\" name=\"\" required></textarea>\n+                        <label for=\"links\" class=\"form-label\">Links</label>\n+                        <textarea class=\"form-control\" id=\"links\" name=\"links\" required></textarea>\n                     </div>\n                 </div>\n             </div>\n \n-\n-            <div class=\"mb-3\">\n-                <label for=\"body\" class=\"form-label\">Body</label>\n-                <textarea class=\"form-control\" id=\"body\" name=\"body\" required></textarea>\n-            </div>\n-            <div class=\"mb-3\">\n-                <label for=\"condition\" class=\"form-label\">Condizioni</label>\n-                <textarea class=\"form-control\" id=\"condition\" name=\"condition\" required></textarea>\n-            </div>\n             <div class=\"row\">\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n                         <label for=\"images\" class=\"form-label\">Immagini</label>\n"
                },
                {
                    "date": 1719406746851,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,14 +43,8 @@\n                         <label for=\"images\" class=\"form-label\">Immagini</label>\n                         <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n                     </div>\n                 </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"links\" class=\"form-label\">Links</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n-                    </div>\n-                </div>\n             </div>\n \n \n \n"
                },
                {
                    "date": 1719406769504,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,9 @@\n                 <tr>\n                     <th>#</th>\n                     <th>Titolo</th>\n                     <th>Sottotitolo</th>\n-                    <th>Sottotitolo Secondario</th>\n+                    <th>Sottotitolo Se<condario/th>\n                     <th>Abstract</th>\n                     <th>Body</th>\n                     <th>Links</th>\n                     <th>Condizioni</th>\n"
                },
                {
                    "date": 1719406776838,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,9 @@\n                 <tr>\n                     <th>#</th>\n                     <th>Titolo</th>\n                     <th>Sottotitolo</th>\n-                    <th>Sottotitolo Se<condario/th>\n+                    <th>Corpo</th>\n                     <th>Abstract</th>\n                     <th>Body</th>\n                     <th>Links</th>\n                     <th>Condizioni</th>\n"
                },
                {
                    "date": 1719406784368,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,10 +59,9 @@\n                 <tr>\n                     <th>#</th>\n                     <th>Titolo</th>\n                     <th>Sottotitolo</th>\n-                    <th>Corpo</th>\n-                    <th>Abstract</th>\n+                    <th>Corpo</th\n                     <th>Body</th>\n                     <th>Links</th>\n                     <th>Condizioni</th>\n                     <th>Immagini</th>\n"
                },
                {
                    "date": 1719406795490,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,286 @@\n+<x-dashboard-layout>\n+    <div class=\"container-fluid mt-5\">\n+        <h1>Gestione Contenuti</h1>\n+        @if (session('success'))\n+            <div class=\"alert alert-success\">\n+                {{ session('success') }}\n+            </div>\n+        @endif\n+\n+        <!-- Form per aggiungere un nuovo contenuto -->\n+        <form action=\"{{ route('services.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n+            @csrf\n+            <div class=\"row\">\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"title\" class=\"form-label\">Titolo</label>\n+                        <input type=\"string\" class=\"form-control\" id=\"title\" name=\"title\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"body\" class=\"form-label\">Corpo</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"body\" name=\"body\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"links\" class=\"form-label\">Links</label>\n+                        <textarea class=\"form-control\" id=\"links\" name=\"links\" required></textarea>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <div class=\"row\">\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"images\" class=\"form-label\">Immagini</label>\n+                        <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n+                    </div>\n+                </div>\n+            </div>\n+\n+\n+\n+\n+            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Servizio</button>\n+        </form>\n+\n+        <hr>\n+\n+        <table class=\"table\">\n+            <thead>\n+                <tr>\n+                    <th>#</th>\n+                    <th>Titolo</th>\n+                    <th>Sottotitolo</th>\n+                    <th>Corpo</th>\n+                    <th>Links</th>\n+                    <th>Immagini</th>\n+                    <th>Azioni</th>\n+                </tr>\n+            </thead>\n+            <tbody>\n+                @foreach ($services as $service)\n+                    <tr>\n+                        <td>{{ $service->id }}</td>\n+                        <td>{{ $service->title }}</td>\n+                        <td>{{ $service->subtitle }}</td>\n+                        <td>{{ $service->subtitleSec }}</td>\n+                        <td>{{ $service->abstract }}</td>\n+                        <td>{{ $service->body }}</td>\n+                        <td>{{ $service->links }}</td>\n+                        <td>{{ $service->condition }}</td>\n+                        <td>\n+                            {{-- @foreach ($service->images as $image)\n+                                <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n+                            @endforeach --}}\n+                            @if ($service->images->count() > 0)\n+                                <small>\n+                                    {{ $service->images->count() }} immagini caricate\n+                                </small>\n+                            @else\n+                                <small>Nessuna immagine</small>\n+                            @endif\n+                        </td>\n+                        <td>\n+                            <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n+                                data-bs-target=\"#serviceDetailsModal\" data-service=\"{{ json_encode($service) }}\">\n+                                Modifica\n+                            </button>\n+                            <form action=\"{{ route('services.destroy', $service) }}\" method=\"POST\"\n+                                style=\"display:inline-block;\">\n+                                @csrf\n+                                @method('DELETE')\n+                                <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n+                            </form>\n+                        </td>\n+                    </tr>\n+                @endforeach\n+            </tbody>\n+        </table>\n+    </div>\n+\n+    <!-- Modale per modificare i dettagli del servizio -->\n+    <div class=\"modal fade\" id=\"serviceDetailsModal\" tabindex=\"-1\" aria-labelledby=\"serviceDetailsModalLabel\"\n+        aria-hidden=\"true\">\n+        <div class=\"modal-dialog\">\n+            <div class=\"modal-content\">\n+                <div class=\"modal-header\">\n+                    <h5 class=\"modal-title\" id=\"serviceDetailsModalLabel\">Modifica Servizio</h5>\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n+                </div>\n+                <div class=\"modal-body\">\n+                    <form id=\"serviceDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n+                        @csrf\n+                        @method('PUT')\n+                        <div class=\"mb-3\">\n+                            <label for=\"title\" class=\"form-label\">Titolo</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"subtitleSec\" class=\"form-label\">Sottotitolo Secondario</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"subtitleSec\" name=\"subtitleSec\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"abstract\" class=\"form-label\">Abstract</label>\n+                            <textarea class=\"form-control\" id=\"abstract\" name=\"abstract\"></textarea>\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"body\" class=\"form-label\">Body</label>\n+                            <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"links\" class=\"form-label\">Links</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"condition\" class=\"form-label\">Condizioni</label>\n+                            <textarea class=\"form-control\" id=\"condition\" name=\"condition\"></textarea>\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"images\" class=\"form-label\">Immagini</label>\n+                            <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n+                            <div id=\"current-images\" class=\"mt-3\">\n+                                <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n+                            </div>\n+                        </div>\n+                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Servizio</button>\n+                    </form>\n+                </div>\n+            </div>\n+        </div>\n+    </div>\n+\n+    <!-- JavaScript per il modale -->\n+    <script>\n+        document.addEventListener(\"DOMContentLoaded\", function() {\n+            // Funzione per mostrare le anteprime delle immagini\n+            function showImagePreviews(files) {\n+                const previewContainer = document.getElementById('current-images');\n+                if (!previewContainer) {\n+                    console.error('Preview container not found.');\n+                    return;\n+                }\n+                previewContainer.innerHTML = '';\n+                Array.from(files).forEach(file => {\n+                    const reader = new FileReader();\n+                    reader.onload = function(e) {\n+                        const imgDiv = document.createElement('div');\n+                        imgDiv.classList.add('current-image');\n+                        imgDiv.innerHTML = `\n+                    <img src=\"${e.target.result}\" alt=\"Immagine\" width=\"100\">\n+                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image-temp\">Elimina</button>\n+                `;\n+                        previewContainer.appendChild(imgDiv);\n+                    };\n+                    reader.readAsDataURL(file);\n+                });\n+            }\n+\n+            // Funzione per gestire la rimozione delle immagini\n+            function handleRemoveImage(imageId) {\n+                const csrfTokenElement = document.querySelector('meta[name=\"csrf-token\"]');\n+                if (!csrfTokenElement) {\n+                    console.error('Elemento CSRF Token non trovato nel documento.');\n+                    return;\n+                }\n+\n+                const csrfToken = csrfTokenElement.getAttribute('content');\n+                fetch(`/dashboard/images/${imageId}`, {\n+                    method: 'DELETE',\n+                    headers: {\n+                        'X-CSRF-TOKEN': csrfToken\n+                    }\n+                }).then(response => {\n+                    if (!response.ok) {\n+                        throw new Error('Errore nella richiesta di eliminazione: ' + response.status);\n+                    }\n+                    return response.json();\n+                }).then(data => {\n+                    if (data.success) {\n+                        // Rimuovi l'elemento visuale dell'immagine\n+                        const imageElement = document.querySelector(\n+                            `.remove-image[data-image-id=\"${imageId}\"]`);\n+                        if (imageElement) {\n+                            imageElement.parentElement.remove();\n+                        }\n+                    } else {\n+                        console.error('Errore nella risposta di eliminazione:', data.error);\n+                    }\n+                }).catch(error => {\n+                    console.error('Errore nella richiesta di eliminazione:', error);\n+                });\n+\n+            }\n+\n+\n+            // Aggiungi evento al cambio di input per mostrare le anteprime delle immagini\n+            document.getElementById('images').addEventListener('change', function() {\n+                showImagePreviews(this.files);\n+            });\n+\n+            // Gestisci il click sui pulsanti \"Elimina Immagine\"\n+            document.addEventListener('click', function(event) {\n+                if (event.target.classList.contains('remove-image')) {\n+                    const imageId = event.target.getAttribute('data-image-id');\n+                    if (imageId) {\n+                        handleRemoveImage(imageId);\n+                    }\n+                }\n+            });\n+\n+            // Aggiungi evento al modale dei dettagli del servizio per gestire le immagini esistenti\n+            document.querySelectorAll('.open-details-modal').forEach(button => {\n+                button.addEventListener('click', () => {\n+                    const service = JSON.parse(button.getAttribute('data-service'));\n+                    const form = document.getElementById('serviceDetailsForm');\n+                    if (!form) {\n+                        console.error('Form element not found.');\n+                        return;\n+                    }\n+                    form.action = `/dashboard/services/${service.id}`;\n+                    form.querySelector('#title').value = service.title;\n+                    form.querySelector('#subtitle').value = service.subtitle;\n+                    form.querySelector('#subtitleSec').value = service.subtitleSec;\n+                    form.querySelector('#abstract').value = service.abstract;\n+                    form.querySelector('#body').value = service.body;\n+                    form.querySelector('#links').value = service.links;\n+                    form.querySelector('#condition').value = service.condition;\n+\n+                    // Mostra le immagini esistenti nel modale\n+                    const currentImagesDiv = document.getElementById('current-images');\n+                    if (!currentImagesDiv) {\n+                        console.error('Current images container not found.');\n+                        return;\n+                    }\n+                    currentImagesDiv.innerHTML = '';\n+                    service.images.forEach(image => {\n+                        const imgDiv = document.createElement('div');\n+                        imgDiv.classList.add('current-image');\n+                        imgDiv.innerHTML = `\n+                    <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n+                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image\" data-image-id=\"${image.id}\">Elimina</button>\n+                `;\n+                        currentImagesDiv.appendChild(imgDiv);\n+                    });\n+                });\n+            });\n+        });\n+    </script>\n+\n+\n+\n+\n+\n+</x-dashboard-layout>\n"
                },
                {
                    "date": 1719406843857,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n             </div>\n         @endif\n \n         <!-- Form per aggiungere un nuovo contenuto -->\n-        <form action=\"{{ route('services.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n+        <form action=\"{{ route('contents.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n             @csrf\n             <div class=\"row\">\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n@@ -66,36 +66,36 @@\n                     <th>Azioni</th>\n                 </tr>\n             </thead>\n             <tbody>\n-                @foreach ($services as $service)\n+                @foreach ($contents as $content)\n                     <tr>\n-                        <td>{{ $service->id }}</td>\n-                        <td>{{ $service->title }}</td>\n-                        <td>{{ $service->subtitle }}</td>\n-                        <td>{{ $service->subtitleSec }}</td>\n-                        <td>{{ $service->abstract }}</td>\n-                        <td>{{ $service->body }}</td>\n-                        <td>{{ $service->links }}</td>\n-                        <td>{{ $service->condition }}</td>\n+                        <td>{{ $content->id }}</td>\n+                        <td>{{ $content->title }}</td>\n+                        <td>{{ $content->subtitle }}</td>\n+                        <td>{{ $content->subtitleSec }}</td>\n+                        <td>{{ $content->abstract }}</td>\n+                        <td>{{ $content->body }}</td>\n+                        <td>{{ $content->links }}</td>\n+                        <td>{{ $content->condition }}</td>\n                         <td>\n-                            {{-- @foreach ($service->images as $image)\n+                            {{-- @foreach ($content->images as $image)\n                                 <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n                             @endforeach --}}\n-                            @if ($service->images->count() > 0)\n+                            @if ($content->images->count() > 0)\n                                 <small>\n-                                    {{ $service->images->count() }} immagini caricate\n+                                    {{ $content->images->count() }} immagini caricate\n                                 </small>\n                             @else\n                                 <small>Nessuna immagine</small>\n                             @endif\n                         </td>\n                         <td>\n                             <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n-                                data-bs-target=\"#serviceDetailsModal\" data-service=\"{{ json_encode($service) }}\">\n+                                data-bs-target=\"#contentDetailsModal\" data-content=\"{{ json_encode($content) }}\">\n                                 Modifica\n                             </button>\n-                            <form action=\"{{ route('services.destroy', $service) }}\" method=\"POST\"\n+                            <form action=\"{{ route('contents.destroy', $content) }}\" method=\"POST\"\n                                 style=\"display:inline-block;\">\n                                 @csrf\n                                 @method('DELETE')\n                                 <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n@@ -107,18 +107,18 @@\n         </table>\n     </div>\n \n     <!-- Modale per modificare i dettagli del servizio -->\n-    <div class=\"modal fade\" id=\"serviceDetailsModal\" tabindex=\"-1\" aria-labelledby=\"serviceDetailsModalLabel\"\n+    <div class=\"modal fade\" id=\"contentDetailsModal\" tabindex=\"-1\" aria-labelledby=\"contentDetailsModalLabel\"\n         aria-hidden=\"true\">\n         <div class=\"modal-dialog\">\n             <div class=\"modal-content\">\n                 <div class=\"modal-header\">\n-                    <h5 class=\"modal-title\" id=\"serviceDetailsModalLabel\">Modifica Servizio</h5>\n+                    <h5 class=\"modal-title\" id=\"contentDetailsModalLabel\">Modifica Servizio</h5>\n                     <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                 </div>\n                 <div class=\"modal-body\">\n-                    <form id=\"serviceDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n+                    <form id=\"contentDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n                         @csrf\n                         @method('PUT')\n                         <div class=\"mb-3\">\n                             <label for=\"title\" class=\"form-label\">Titolo</label>\n@@ -242,31 +242,31 @@\n \n             // Aggiungi evento al modale dei dettagli del servizio per gestire le immagini esistenti\n             document.querySelectorAll('.open-details-modal').forEach(button => {\n                 button.addEventListener('click', () => {\n-                    const service = JSON.parse(button.getAttribute('data-service'));\n-                    const form = document.getElementById('serviceDetailsForm');\n+                    const content = JSON.parse(button.getAttribute('data-content'));\n+                    const form = document.getElementById('contentDetailsForm');\n                     if (!form) {\n                         console.error('Form element not found.');\n                         return;\n                     }\n-                    form.action = `/dashboard/services/${service.id}`;\n-                    form.querySelector('#title').value = service.title;\n-                    form.querySelector('#subtitle').value = service.subtitle;\n-                    form.querySelector('#subtitleSec').value = service.subtitleSec;\n-                    form.querySelector('#abstract').value = service.abstract;\n-                    form.querySelector('#body').value = service.body;\n-                    form.querySelector('#links').value = service.links;\n-                    form.querySelector('#condition').value = service.condition;\n+                    form.action = `/dashboard/contents/${content.id}`;\n+                    form.querySelector('#title').value = content.title;\n+                    form.querySelector('#subtitle').value = content.subtitle;\n+                    form.querySelector('#subtitleSec').value = content.subtitleSec;\n+                    form.querySelector('#abstract').value = content.abstract;\n+                    form.querySelector('#body').value = content.body;\n+                    form.querySelector('#links').value = content.links;\n+                    form.querySelector('#condition').value = content.condition;\n \n                     // Mostra le immagini esistenti nel modale\n                     const currentImagesDiv = document.getElementById('current-images');\n                     if (!currentImagesDiv) {\n                         console.error('Current images container not found.');\n                         return;\n                     }\n                     currentImagesDiv.innerHTML = '';\n-                    service.images.forEach(image => {\n+                    content.images.forEach(image => {\n                         const imgDiv = document.createElement('div');\n                         imgDiv.classList.add('current-image');\n                         imgDiv.innerHTML = `\n                     <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n@@ -283,292 +283,4 @@\n \n \n \n </x-dashboard-layout>\n-<x-dashboard-layout>\n-    <div class=\"container-fluid mt-5\">\n-        <h1>Gestione Contenuti</h1>\n-        @if (session('success'))\n-            <div class=\"alert alert-success\">\n-                {{ session('success') }}\n-            </div>\n-        @endif\n-\n-        <!-- Form per aggiungere un nuovo contenuto -->\n-        <form action=\"{{ route('services.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n-            @csrf\n-            <div class=\"row\">\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"title\" class=\"form-label\">Titolo</label>\n-                        <input type=\"string\" class=\"form-control\" id=\"title\" name=\"title\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"body\" class=\"form-label\">Corpo</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"body\" name=\"body\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"links\" class=\"form-label\">Links</label>\n-                        <textarea class=\"form-control\" id=\"links\" name=\"links\" required></textarea>\n-                    </div>\n-                </div>\n-            </div>\n-\n-            <div class=\"row\">\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"images\" class=\"form-label\">Immagini</label>\n-                        <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n-                    </div>\n-                </div>\n-            </div>\n-\n-\n-\n-\n-            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Servizio</button>\n-        </form>\n-\n-        <hr>\n-\n-        <table class=\"table\">\n-            <thead>\n-                <tr>\n-                    <th>#</th>\n-                    <th>Titolo</th>\n-                    <th>Sottotitolo</th>\n-                    <th>Corpo</th\n-                    <th>Body</th>\n-                    <th>Links</th>\n-                    <th>Condizioni</th>\n-                    <th>Immagini</th>\n-                    <th>Azioni</th>\n-                </tr>\n-            </thead>\n-            <tbody>\n-                @foreach ($services as $service)\n-                    <tr>\n-                        <td>{{ $service->id }}</td>\n-                        <td>{{ $service->title }}</td>\n-                        <td>{{ $service->subtitle }}</td>\n-                        <td>{{ $service->subtitleSec }}</td>\n-                        <td>{{ $service->abstract }}</td>\n-                        <td>{{ $service->body }}</td>\n-                        <td>{{ $service->links }}</td>\n-                        <td>{{ $service->condition }}</td>\n-                        <td>\n-                            {{-- @foreach ($service->images as $image)\n-                                <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n-                            @endforeach --}}\n-                            @if ($service->images->count() > 0)\n-                                <small>\n-                                    {{ $service->images->count() }} immagini caricate\n-                                </small>\n-                            @else\n-                                <small>Nessuna immagine</small>\n-                            @endif\n-                        </td>\n-                        <td>\n-                            <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n-                                data-bs-target=\"#serviceDetailsModal\" data-service=\"{{ json_encode($service) }}\">\n-                                Modifica\n-                            </button>\n-                            <form action=\"{{ route('services.destroy', $service) }}\" method=\"POST\"\n-                                style=\"display:inline-block;\">\n-                                @csrf\n-                                @method('DELETE')\n-                                <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n-                            </form>\n-                        </td>\n-                    </tr>\n-                @endforeach\n-            </tbody>\n-        </table>\n-    </div>\n-\n-    <!-- Modale per modificare i dettagli del servizio -->\n-    <div class=\"modal fade\" id=\"serviceDetailsModal\" tabindex=\"-1\" aria-labelledby=\"serviceDetailsModalLabel\"\n-        aria-hidden=\"true\">\n-        <div class=\"modal-dialog\">\n-            <div class=\"modal-content\">\n-                <div class=\"modal-header\">\n-                    <h5 class=\"modal-title\" id=\"serviceDetailsModalLabel\">Modifica Servizio</h5>\n-                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n-                </div>\n-                <div class=\"modal-body\">\n-                    <form id=\"serviceDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n-                        @csrf\n-                        @method('PUT')\n-                        <div class=\"mb-3\">\n-                            <label for=\"title\" class=\"form-label\">Titolo</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"subtitleSec\" class=\"form-label\">Sottotitolo Secondario</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"subtitleSec\" name=\"subtitleSec\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"abstract\" class=\"form-label\">Abstract</label>\n-                            <textarea class=\"form-control\" id=\"abstract\" name=\"abstract\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"body\" class=\"form-label\">Body</label>\n-                            <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"links\" class=\"form-label\">Links</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"condition\" class=\"form-label\">Condizioni</label>\n-                            <textarea class=\"form-control\" id=\"condition\" name=\"condition\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"images\" class=\"form-label\">Immagini</label>\n-                            <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n-                            <div id=\"current-images\" class=\"mt-3\">\n-                                <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n-                            </div>\n-                        </div>\n-                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Servizio</button>\n-                    </form>\n-                </div>\n-            </div>\n-        </div>\n-    </div>\n-\n-    <!-- JavaScript per il modale -->\n-    <script>\n-        document.addEventListener(\"DOMContentLoaded\", function() {\n-            // Funzione per mostrare le anteprime delle immagini\n-            function showImagePreviews(files) {\n-                const previewContainer = document.getElementById('current-images');\n-                if (!previewContainer) {\n-                    console.error('Preview container not found.');\n-                    return;\n-                }\n-                previewContainer.innerHTML = '';\n-                Array.from(files).forEach(file => {\n-                    const reader = new FileReader();\n-                    reader.onload = function(e) {\n-                        const imgDiv = document.createElement('div');\n-                        imgDiv.classList.add('current-image');\n-                        imgDiv.innerHTML = `\n-                    <img src=\"${e.target.result}\" alt=\"Immagine\" width=\"100\">\n-                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image-temp\">Elimina</button>\n-                `;\n-                        previewContainer.appendChild(imgDiv);\n-                    };\n-                    reader.readAsDataURL(file);\n-                });\n-            }\n-\n-            // Funzione per gestire la rimozione delle immagini\n-            function handleRemoveImage(imageId) {\n-                const csrfTokenElement = document.querySelector('meta[name=\"csrf-token\"]');\n-                if (!csrfTokenElement) {\n-                    console.error('Elemento CSRF Token non trovato nel documento.');\n-                    return;\n-                }\n-\n-                const csrfToken = csrfTokenElement.getAttribute('content');\n-                fetch(`/dashboard/images/${imageId}`, {\n-                    method: 'DELETE',\n-                    headers: {\n-                        'X-CSRF-TOKEN': csrfToken\n-                    }\n-                }).then(response => {\n-                    if (!response.ok) {\n-                        throw new Error('Errore nella richiesta di eliminazione: ' + response.status);\n-                    }\n-                    return response.json();\n-                }).then(data => {\n-                    if (data.success) {\n-                        // Rimuovi l'elemento visuale dell'immagine\n-                        const imageElement = document.querySelector(\n-                            `.remove-image[data-image-id=\"${imageId}\"]`);\n-                        if (imageElement) {\n-                            imageElement.parentElement.remove();\n-                        }\n-                    } else {\n-                        console.error('Errore nella risposta di eliminazione:', data.error);\n-                    }\n-                }).catch(error => {\n-                    console.error('Errore nella richiesta di eliminazione:', error);\n-                });\n-\n-            }\n-\n-\n-            // Aggiungi evento al cambio di input per mostrare le anteprime delle immagini\n-            document.getElementById('images').addEventListener('change', function() {\n-                showImagePreviews(this.files);\n-            });\n-\n-            // Gestisci il click sui pulsanti \"Elimina Immagine\"\n-            document.addEventListener('click', function(event) {\n-                if (event.target.classList.contains('remove-image')) {\n-                    const imageId = event.target.getAttribute('data-image-id');\n-                    if (imageId) {\n-                        handleRemoveImage(imageId);\n-                    }\n-                }\n-            });\n-\n-            // Aggiungi evento al modale dei dettagli del servizio per gestire le immagini esistenti\n-            document.querySelectorAll('.open-details-modal').forEach(button => {\n-                button.addEventListener('click', () => {\n-                    const service = JSON.parse(button.getAttribute('data-service'));\n-                    const form = document.getElementById('serviceDetailsForm');\n-                    if (!form) {\n-                        console.error('Form element not found.');\n-                        return;\n-                    }\n-                    form.action = `/dashboard/services/${service.id}`;\n-                    form.querySelector('#title').value = service.title;\n-                    form.querySelector('#subtitle').value = service.subtitle;\n-                    form.querySelector('#subtitleSec').value = service.subtitleSec;\n-                    form.querySelector('#abstract').value = service.abstract;\n-                    form.querySelector('#body').value = service.body;\n-                    form.querySelector('#links').value = service.links;\n-                    form.querySelector('#condition').value = service.condition;\n-\n-                    // Mostra le immagini esistenti nel modale\n-                    const currentImagesDiv = document.getElementById('current-images');\n-                    if (!currentImagesDiv) {\n-                        console.error('Current images container not found.');\n-                        return;\n-                    }\n-                    currentImagesDiv.innerHTML = '';\n-                    service.images.forEach(image => {\n-                        const imgDiv = document.createElement('div');\n-                        imgDiv.classList.add('current-image');\n-                        imgDiv.innerHTML = `\n-                    <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n-                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image\" data-image-id=\"${image.id}\">Elimina</button>\n-                `;\n-                        currentImagesDiv.appendChild(imgDiv);\n-                    });\n-                });\n-            });\n-        });\n-    </script>\n-\n-\n-\n-\n-\n-</x-dashboard-layout>\n"
                },
                {
                    "date": 1719406858173,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,10 +71,8 @@\n                     <tr>\n                         <td>{{ $content->id }}</td>\n                         <td>{{ $content->title }}</td>\n                         <td>{{ $content->subtitle }}</td>\n-                        <td>{{ $content->subtitleSec }}</td>\n-                        <td>{{ $content->abstract }}</td>\n                         <td>{{ $content->body }}</td>\n                         <td>{{ $content->links }}</td>\n                         <td>{{ $content->condition }}</td>\n                         <td>\n"
                },
                {
                    "date": 1719406866723,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,8 @@\n                         <td>{{ $content->title }}</td>\n                         <td>{{ $content->subtitle }}</td>\n                         <td>{{ $content->body }}</td>\n                         <td>{{ $content->links }}</td>\n-                        <td>{{ $content->condition }}</td>\n                         <td>\n                             {{-- @foreach ($content->images as $image)\n                                 <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n                             @endforeach --}}\n"
                },
                {
                    "date": 1719406881361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,283 @@\n+<x-dashboard-layout>\n+    <div class=\"container-fluid mt-5\">\n+        <h1>Gestione Contenuti</h1>\n+        @if (session('success'))\n+            <div class=\"alert alert-success\">\n+                {{ session('success') }}\n+            </div>\n+        @endif\n+\n+        <!-- Form per aggiungere un nuovo contenuto -->\n+        <form action=\"{{ route('contents.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n+            @csrf\n+            <div class=\"row\">\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"title\" class=\"form-label\">Titolo</label>\n+                        <input type=\"string\" class=\"form-control\" id=\"title\" name=\"title\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"body\" class=\"form-label\">Corpo</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"body\" name=\"body\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"links\" class=\"form-label\">Links</label>\n+                        <textarea class=\"form-control\" id=\"links\" name=\"links\" required></textarea>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <div class=\"row\">\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"images\" class=\"form-label\">Immagini</label>\n+                        <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n+                    </div>\n+                </div>\n+            </div>\n+\n+\n+\n+\n+            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Servizio</button>\n+        </form>\n+\n+        <hr>\n+\n+        <table class=\"table\">\n+            <thead>\n+                <tr>\n+                    <th>#</th>\n+                    <th>Titolo</th>\n+                    <th>Sottotitolo</th>\n+                    <th>Corpo</th>\n+                    <th>Links</th>\n+                    <th>Immagini</th>\n+                    <th>Azioni</th>\n+                </tr>\n+            </thead>\n+            <tbody>\n+                @foreach ($contents as $content)\n+                    <tr>\n+                        <td>{{ $content->id }}</td>\n+                        <td>{{ $content->title }}</td>\n+                        <td>{{ $content->subtitle }}</td>\n+                        <td>{{ $content->body }}</td>\n+                        <td>{{ $content->links }}</td>\n+                        <td>\n+                            {{-- @foreach ($content->images as $image)\n+                                <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n+                            @endforeach --}}\n+                            @if ($content->images->count() > 0)\n+                                <small>\n+                                    {{ $content->images->count() }} immagini caricate\n+                                </small>\n+                            @else\n+                                <small>Nessuna immagine</small>\n+                            @endif\n+                        </td>\n+                        <td>\n+                            <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n+                                data-bs-target=\"#contentDetailsModal\" data-content=\"{{ json_encode($content) }}\">\n+                                Modifica\n+                            </button>\n+                            <form action=\"{{ route('contents.destroy', $content) }}\" method=\"POST\"\n+                                style=\"display:inline-block;\">\n+                                @csrf\n+                                @method('DELETE')\n+                                <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n+                            </form>\n+                        </td>\n+                    </tr>\n+                @endforeach\n+            </tbody>\n+        </table>\n+    </div>\n+\n+    <!-- Modale per modificare i dettagli del servizio -->\n+    <div class=\"modal fade\" id=\"contentDetailsModal\" tabindex=\"-1\" aria-labelledby=\"contentDetailsModalLabel\"\n+        aria-hidden=\"true\">\n+        <div class=\"modal-dialog\">\n+            <div class=\"modal-content\">\n+                <div class=\"modal-header\">\n+                    <h5 class=\"modal-title\" id=\"contentDetailsModalLabel\">Modifica Contenuto</h5>\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n+                </div>\n+                <div class=\"modal-body\">\n+                    <form id=\"contentDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n+                        @csrf\n+                        @method('PUT')\n+                        <div class=\"mb-3\">\n+                            <label for=\"title\" class=\"form-label\">Titolo</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"subtitleSec\" class=\"form-label\">Sottotitolo Secondario</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"subtitleSec\" name=\"subtitleSec\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"abstract\" class=\"form-label\">Abstract</label>\n+                            <textarea class=\"form-control\" id=\"abstract\" name=\"abstract\"></textarea>\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"body\" class=\"form-label\">Body</label>\n+                            <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"links\" class=\"form-label\">Links</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"condition\" class=\"form-label\">Condizioni</label>\n+                            <textarea class=\"form-control\" id=\"condition\" name=\"condition\"></textarea>\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"images\" class=\"form-label\">Immagini</label>\n+                            <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n+                            <div id=\"current-images\" class=\"mt-3\">\n+                                <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n+                            </div>\n+                        </div>\n+                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Servizio</button>\n+                    </form>\n+                </div>\n+            </div>\n+        </div>\n+    </div>\n+\n+    <!-- JavaScript per il modale -->\n+    <script>\n+        document.addEventListener(\"DOMContentLoaded\", function() {\n+            // Funzione per mostrare le anteprime delle immagini\n+            function showImagePreviews(files) {\n+                const previewContainer = document.getElementById('current-images');\n+                if (!previewContainer) {\n+                    console.error('Preview container not found.');\n+                    return;\n+                }\n+                previewContainer.innerHTML = '';\n+                Array.from(files).forEach(file => {\n+                    const reader = new FileReader();\n+                    reader.onload = function(e) {\n+                        const imgDiv = document.createElement('div');\n+                        imgDiv.classList.add('current-image');\n+                        imgDiv.innerHTML = `\n+                    <img src=\"${e.target.result}\" alt=\"Immagine\" width=\"100\">\n+                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image-temp\">Elimina</button>\n+                `;\n+                        previewContainer.appendChild(imgDiv);\n+                    };\n+                    reader.readAsDataURL(file);\n+                });\n+            }\n+\n+            // Funzione per gestire la rimozione delle immagini\n+            function handleRemoveImage(imageId) {\n+                const csrfTokenElement = document.querySelector('meta[name=\"csrf-token\"]');\n+                if (!csrfTokenElement) {\n+                    console.error('Elemento CSRF Token non trovato nel documento.');\n+                    return;\n+                }\n+\n+                const csrfToken = csrfTokenElement.getAttribute('content');\n+                fetch(`/dashboard/images/${imageId}`, {\n+                    method: 'DELETE',\n+                    headers: {\n+                        'X-CSRF-TOKEN': csrfToken\n+                    }\n+                }).then(response => {\n+                    if (!response.ok) {\n+                        throw new Error('Errore nella richiesta di eliminazione: ' + response.status);\n+                    }\n+                    return response.json();\n+                }).then(data => {\n+                    if (data.success) {\n+                        // Rimuovi l'elemento visuale dell'immagine\n+                        const imageElement = document.querySelector(\n+                            `.remove-image[data-image-id=\"${imageId}\"]`);\n+                        if (imageElement) {\n+                            imageElement.parentElement.remove();\n+                        }\n+                    } else {\n+                        console.error('Errore nella risposta di eliminazione:', data.error);\n+                    }\n+                }).catch(error => {\n+                    console.error('Errore nella richiesta di eliminazione:', error);\n+                });\n+\n+            }\n+\n+\n+            // Aggiungi evento al cambio di input per mostrare le anteprime delle immagini\n+            document.getElementById('images').addEventListener('change', function() {\n+                showImagePreviews(this.files);\n+            });\n+\n+            // Gestisci il click sui pulsanti \"Elimina Immagine\"\n+            document.addEventListener('click', function(event) {\n+                if (event.target.classList.contains('remove-image')) {\n+                    const imageId = event.target.getAttribute('data-image-id');\n+                    if (imageId) {\n+                        handleRemoveImage(imageId);\n+                    }\n+                }\n+            });\n+\n+            // Aggiungi evento al modale dei dettagli del servizio per gestire le immagini esistenti\n+            document.querySelectorAll('.open-details-modal').forEach(button => {\n+                button.addEventListener('click', () => {\n+                    const content = JSON.parse(button.getAttribute('data-content'));\n+                    const form = document.getElementById('contentDetailsForm');\n+                    if (!form) {\n+                        console.error('Form element not found.');\n+                        return;\n+                    }\n+                    form.action = `/dashboard/contents/${content.id}`;\n+                    form.querySelector('#title').value = content.title;\n+                    form.querySelector('#subtitle').value = content.subtitle;\n+                    form.querySelector('#subtitleSec').value = content.subtitleSec;\n+                    form.querySelector('#abstract').value = content.abstract;\n+                    form.querySelector('#body').value = content.body;\n+                    form.querySelector('#links').value = content.links;\n+                    form.querySelector('#condition').value = content.condition;\n+\n+                    // Mostra le immagini esistenti nel modale\n+                    const currentImagesDiv = document.getElementById('current-images');\n+                    if (!currentImagesDiv) {\n+                        console.error('Current images container not found.');\n+                        return;\n+                    }\n+                    currentImagesDiv.innerHTML = '';\n+                    content.images.forEach(image => {\n+                        const imgDiv = document.createElement('div');\n+                        imgDiv.classList.add('current-image');\n+                        imgDiv.innerHTML = `\n+                    <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n+                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image\" data-image-id=\"${image.id}\">Elimina</button>\n+                `;\n+                        currentImagesDiv.appendChild(imgDiv);\n+                    });\n+                });\n+            });\n+        });\n+    </script>\n+\n+\n+\n+\n+\n+</x-dashboard-layout>\n"
                },
                {
                    "date": 1719406935119,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,16 +125,8 @@\n                             <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n                             <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n                         </div>\n                         <div class=\"mb-3\">\n-                            <label for=\"subtitleSec\" class=\"form-label\">Sottotitolo Secondario</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"subtitleSec\" name=\"subtitleSec\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"abstract\" class=\"form-label\">Abstract</label>\n-                            <textarea class=\"form-control\" id=\"abstract\" name=\"abstract\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n                             <label for=\"body\" class=\"form-label\">Body</label>\n                             <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n                         </div>\n                         <div class=\"mb-3\">\n@@ -280,287 +272,4 @@\n \n \n \n </x-dashboard-layout>\n-<x-dashboard-layout>\n-    <div class=\"container-fluid mt-5\">\n-        <h1>Gestione Contenuti</h1>\n-        @if (session('success'))\n-            <div class=\"alert alert-success\">\n-                {{ session('success') }}\n-            </div>\n-        @endif\n-\n-        <!-- Form per aggiungere un nuovo contenuto -->\n-        <form action=\"{{ route('contents.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n-            @csrf\n-            <div class=\"row\">\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"title\" class=\"form-label\">Titolo</label>\n-                        <input type=\"string\" class=\"form-control\" id=\"title\" name=\"title\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"body\" class=\"form-label\">Corpo</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"body\" name=\"body\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"links\" class=\"form-label\">Links</label>\n-                        <textarea class=\"form-control\" id=\"links\" name=\"links\" required></textarea>\n-                    </div>\n-                </div>\n-            </div>\n-\n-            <div class=\"row\">\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"images\" class=\"form-label\">Immagini</label>\n-                        <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n-                    </div>\n-                </div>\n-            </div>\n-\n-\n-\n-\n-            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Servizio</button>\n-        </form>\n-\n-        <hr>\n-\n-        <table class=\"table\">\n-            <thead>\n-                <tr>\n-                    <th>#</th>\n-                    <th>Titolo</th>\n-                    <th>Sottotitolo</th>\n-                    <th>Corpo</th>\n-                    <th>Links</th>\n-                    <th>Immagini</th>\n-                    <th>Azioni</th>\n-                </tr>\n-            </thead>\n-            <tbody>\n-                @foreach ($contents as $content)\n-                    <tr>\n-                        <td>{{ $content->id }}</td>\n-                        <td>{{ $content->title }}</td>\n-                        <td>{{ $content->subtitle }}</td>\n-                        <td>{{ $content->body }}</td>\n-                        <td>{{ $content->links }}</td>\n-                        <td>\n-                            {{-- @foreach ($content->images as $image)\n-                                <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n-                            @endforeach --}}\n-                            @if ($content->images->count() > 0)\n-                                <small>\n-                                    {{ $content->images->count() }} immagini caricate\n-                                </small>\n-                            @else\n-                                <small>Nessuna immagine</small>\n-                            @endif\n-                        </td>\n-                        <td>\n-                            <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n-                                data-bs-target=\"#contentDetailsModal\" data-content=\"{{ json_encode($content) }}\">\n-                                Modifica\n-                            </button>\n-                            <form action=\"{{ route('contents.destroy', $content) }}\" method=\"POST\"\n-                                style=\"display:inline-block;\">\n-                                @csrf\n-                                @method('DELETE')\n-                                <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n-                            </form>\n-                        </td>\n-                    </tr>\n-                @endforeach\n-            </tbody>\n-        </table>\n-    </div>\n-\n-    <!-- Modale per modificare i dettagli del servizio -->\n-    <div class=\"modal fade\" id=\"contentDetailsModal\" tabindex=\"-1\" aria-labelledby=\"contentDetailsModalLabel\"\n-        aria-hidden=\"true\">\n-        <div class=\"modal-dialog\">\n-            <div class=\"modal-content\">\n-                <div class=\"modal-header\">\n-                    <h5 class=\"modal-title\" id=\"contentDetailsModalLabel\">Modifica Servizio</h5>\n-                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n-                </div>\n-                <div class=\"modal-body\">\n-                    <form id=\"contentDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n-                        @csrf\n-                        @method('PUT')\n-                        <div class=\"mb-3\">\n-                            <label for=\"title\" class=\"form-label\">Titolo</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"subtitleSec\" class=\"form-label\">Sottotitolo Secondario</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"subtitleSec\" name=\"subtitleSec\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"abstract\" class=\"form-label\">Abstract</label>\n-                            <textarea class=\"form-control\" id=\"abstract\" name=\"abstract\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"body\" class=\"form-label\">Body</label>\n-                            <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"links\" class=\"form-label\">Links</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"condition\" class=\"form-label\">Condizioni</label>\n-                            <textarea class=\"form-control\" id=\"condition\" name=\"condition\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"images\" class=\"form-label\">Immagini</label>\n-                            <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n-                            <div id=\"current-images\" class=\"mt-3\">\n-                                <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n-                            </div>\n-                        </div>\n-                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Servizio</button>\n-                    </form>\n-                </div>\n-            </div>\n-        </div>\n-    </div>\n-\n-    <!-- JavaScript per il modale -->\n-    <script>\n-        document.addEventListener(\"DOMContentLoaded\", function() {\n-            // Funzione per mostrare le anteprime delle immagini\n-            function showImagePreviews(files) {\n-                const previewContainer = document.getElementById('current-images');\n-                if (!previewContainer) {\n-                    console.error('Preview container not found.');\n-                    return;\n-                }\n-                previewContainer.innerHTML = '';\n-                Array.from(files).forEach(file => {\n-                    const reader = new FileReader();\n-                    reader.onload = function(e) {\n-                        const imgDiv = document.createElement('div');\n-                        imgDiv.classList.add('current-image');\n-                        imgDiv.innerHTML = `\n-                    <img src=\"${e.target.result}\" alt=\"Immagine\" width=\"100\">\n-                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image-temp\">Elimina</button>\n-                `;\n-                        previewContainer.appendChild(imgDiv);\n-                    };\n-                    reader.readAsDataURL(file);\n-                });\n-            }\n-\n-            // Funzione per gestire la rimozione delle immagini\n-            function handleRemoveImage(imageId) {\n-                const csrfTokenElement = document.querySelector('meta[name=\"csrf-token\"]');\n-                if (!csrfTokenElement) {\n-                    console.error('Elemento CSRF Token non trovato nel documento.');\n-                    return;\n-                }\n-\n-                const csrfToken = csrfTokenElement.getAttribute('content');\n-                fetch(`/dashboard/images/${imageId}`, {\n-                    method: 'DELETE',\n-                    headers: {\n-                        'X-CSRF-TOKEN': csrfToken\n-                    }\n-                }).then(response => {\n-                    if (!response.ok) {\n-                        throw new Error('Errore nella richiesta di eliminazione: ' + response.status);\n-                    }\n-                    return response.json();\n-                }).then(data => {\n-                    if (data.success) {\n-                        // Rimuovi l'elemento visuale dell'immagine\n-                        const imageElement = document.querySelector(\n-                            `.remove-image[data-image-id=\"${imageId}\"]`);\n-                        if (imageElement) {\n-                            imageElement.parentElement.remove();\n-                        }\n-                    } else {\n-                        console.error('Errore nella risposta di eliminazione:', data.error);\n-                    }\n-                }).catch(error => {\n-                    console.error('Errore nella richiesta di eliminazione:', error);\n-                });\n-\n-            }\n-\n-\n-            // Aggiungi evento al cambio di input per mostrare le anteprime delle immagini\n-            document.getElementById('images').addEventListener('change', function() {\n-                showImagePreviews(this.files);\n-            });\n-\n-            // Gestisci il click sui pulsanti \"Elimina Immagine\"\n-            document.addEventListener('click', function(event) {\n-                if (event.target.classList.contains('remove-image')) {\n-                    const imageId = event.target.getAttribute('data-image-id');\n-                    if (imageId) {\n-                        handleRemoveImage(imageId);\n-                    }\n-                }\n-            });\n-\n-            // Aggiungi evento al modale dei dettagli del servizio per gestire le immagini esistenti\n-            document.querySelectorAll('.open-details-modal').forEach(button => {\n-                button.addEventListener('click', () => {\n-                    const content = JSON.parse(button.getAttribute('data-content'));\n-                    const form = document.getElementById('contentDetailsForm');\n-                    if (!form) {\n-                        console.error('Form element not found.');\n-                        return;\n-                    }\n-                    form.action = `/dashboard/contents/${content.id}`;\n-                    form.querySelector('#title').value = content.title;\n-                    form.querySelector('#subtitle').value = content.subtitle;\n-                    form.querySelector('#subtitleSec').value = content.subtitleSec;\n-                    form.querySelector('#abstract').value = content.abstract;\n-                    form.querySelector('#body').value = content.body;\n-                    form.querySelector('#links').value = content.links;\n-                    form.querySelector('#condition').value = content.condition;\n-\n-                    // Mostra le immagini esistenti nel modale\n-                    const currentImagesDiv = document.getElementById('current-images');\n-                    if (!currentImagesDiv) {\n-                        console.error('Current images container not found.');\n-                        return;\n-                    }\n-                    currentImagesDiv.innerHTML = '';\n-                    content.images.forEach(image => {\n-                        const imgDiv = document.createElement('div');\n-                        imgDiv.classList.add('current-image');\n-                        imgDiv.innerHTML = `\n-                    <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n-                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image\" data-image-id=\"${image.id}\">Elimina</button>\n-                `;\n-                        currentImagesDiv.appendChild(imgDiv);\n-                    });\n-                });\n-            });\n-        });\n-    </script>\n-\n-\n-\n-\n-\n-</x-dashboard-layout>\n"
                },
                {
                    "date": 1719406945269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,12 +133,8 @@\n                             <label for=\"links\" class=\"form-label\">Links</label>\n                             <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n                         </div>\n                         <div class=\"mb-3\">\n-                            <label for=\"condition\" class=\"form-label\">Condizioni</label>\n-                            <textarea class=\"form-control\" id=\"condition\" name=\"condition\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n                             <label for=\"images\" class=\"form-label\">Immagini</label>\n                             <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n                             <div id=\"current-images\" class=\"mt-3\">\n                                 <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n"
                },
                {
                    "date": 1719406966868,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -139,9 +139,9 @@\n                             <div id=\"current-images\" class=\"mt-3\">\n                                 <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n                             </div>\n                         </div>\n-                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Servizio</button>\n+                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Contenuto</button>\n                     </form>\n                 </div>\n             </div>\n         </div>\n@@ -236,10 +236,9 @@\n                     }\n                     form.action = `/dashboard/contents/${content.id}`;\n                     form.querySelector('#title').value = content.title;\n                     form.querySelector('#subtitle').value = content.subtitle;\n-                    form.querySelector('#subtitleSec').value = content.subtitleSec;\n-                    form.querySelector('#abstract').value = content.abstract;\n+                    \n                     form.querySelector('#body').value = content.body;\n                     form.querySelector('#links').value = content.links;\n                     form.querySelector('#condition').value = content.condition;\n \n"
                },
                {
                    "date": 1719406979283,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,9 +239,8 @@\n                     form.querySelector('#subtitle').value = content.subtitle;\n                     \n                     form.querySelector('#body').value = content.body;\n                     form.querySelector('#links').value = content.links;\n-                    form.querySelector('#condition').value = content.condition;\n \n                     // Mostra le immagini esistenti nel modale\n                     const currentImagesDiv = document.getElementById('current-images');\n                     if (!currentImagesDiv) {\n"
                },
                {
                    "date": 1719406986141,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,9 +236,8 @@\n                     }\n                     form.action = `/dashboard/contents/${content.id}`;\n                     form.querySelector('#title').value = content.title;\n                     form.querySelector('#subtitle').value = content.subtitle;\n-                    \n                     form.querySelector('#body').value = content.body;\n                     form.querySelector('#links').value = content.links;\n \n                     // Mostra le immagini esistenti nel modale\n"
                },
                {
                    "date": 1719407019323,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,9 @@\n \n \n \n \n-            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Servizio</button>\n+            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Contenuto</button>\n         </form>\n \n         <hr>\n \n@@ -103,9 +103,9 @@\n             </tbody>\n         </table>\n     </div>\n \n-    <!-- Modale per modificare i dettagli del servizio -->\n+    <!-- Modale per modificare i dettagli del Contenuto -->\n     <div class=\"modal fade\" id=\"contentDetailsModal\" tabindex=\"-1\" aria-labelledby=\"contentDetailsModalLabel\"\n         aria-hidden=\"true\">\n         <div class=\"modal-dialog\">\n             <div class=\"modal-content\">\n@@ -224,9 +224,9 @@\n                     }\n                 }\n             });\n \n-            // Aggiungi evento al modale dei dettagli del servizio per gestire le immagini esistenti\n+            // Aggiungi evento al modale dei dettagli del Contenuto per gestire le immagini esistenti\n             document.querySelectorAll('.open-details-modal').forEach(button => {\n                 button.addEventListener('click', () => {\n                     const content = JSON.parse(button.getAttribute('data-content'));\n                     const form = document.getElementById('contentDetailsForm');\n"
                },
                {
                    "date": 1719407041919,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,11 +45,8 @@\n                     </div>\n                 </div>\n             </div>\n \n-\n-\n-\n             <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Contenuto</button>\n         </form>\n \n         <hr>\n"
                },
                {
                    "date": 1719407101768,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,8 +55,9 @@\n             <thead>\n                 <tr>\n                     <th>#</th>\n                     <th>Titolo</th>\n+                    <th>Titolo</th>\n                     <th>Sottotitolo</th>\n                     <th>Corpo</th>\n                     <th>Links</th>\n                     <th>Immagini</th>\n"
                },
                {
                    "date": 1719407115542,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -54,10 +54,10 @@\n         <table class=\"table\">\n             <thead>\n                 <tr>\n                     <th>#</th>\n+                    <th>Pagina</th>\n                     <th>Titolo</th>\n-                    <th>Titolo</th>\n                     <th>Sottotitolo</th>\n                     <th>Corpo</th>\n                     <th>Links</th>\n                     <th>Immagini</th>\n@@ -68,8 +68,9 @@\n                 @foreach ($contents as $content)\n                     <tr>\n                         <td>{{ $content->id }}</td>\n                         <td>{{ $content->title }}</td>\n+                        <td>{{ $content->title }}</td>\n                         <td>{{ $content->subtitle }}</td>\n                         <td>{{ $content->body }}</td>\n                         <td>{{ $content->links }}</td>\n                         <td>\n"
                },
                {
                    "date": 1719407127818,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,10 +67,10 @@\n             <tbody>\n                 @foreach ($contents as $content)\n                     <tr>\n                         <td>{{ $content->id }}</td>\n+                        <td>ucfirst{{ $content->page }}</td>\n                         <td>{{ $content->title }}</td>\n-                        <td>{{ $content->title }}</td>\n                         <td>{{ $content->subtitle }}</td>\n                         <td>{{ $content->body }}</td>\n                         <td>{{ $content->links }}</td>\n                         <td>\n"
                },
                {
                    "date": 1719407174307,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,8 +32,9 @@\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n                         <label for=\"links\" class=\"form-label\">Links</label>\n                         <textarea class=\"form-control\" id=\"links\" name=\"links\" required></textarea>\n+                        \n                     </div>\n                 </div>\n             </div>\n \n@@ -67,9 +68,9 @@\n             <tbody>\n                 @foreach ($contents as $content)\n                     <tr>\n                         <td>{{ $content->id }}</td>\n-                        <td>ucfirst{{ $content->page }}</td>\n+                        <td>{{ $content->page }}</td>\n                         <td>{{ $content->title }}</td>\n                         <td>{{ $content->subtitle }}</td>\n                         <td>{{ $content->body }}</td>\n                         <td>{{ $content->links }}</td>\n"
                },
                {
                    "date": 1719407181283,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,16 +25,16 @@\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n                         <label for=\"body\" class=\"form-label\">Corpo</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"body\" name=\"body\" required>\n+                        <textarea class=\"form-control\" id=\"links\" name=\"links\" required></textarea>\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n                         <label for=\"links\" class=\"form-label\">Links</label>\n                         <textarea class=\"form-control\" id=\"links\" name=\"links\" required></textarea>\n-                        \n+                        <input type=\"text\" class=\"form-control\" id=\"body\" name=\"body\" required>\n                     </div>\n                 </div>\n             </div>\n \n"
                },
                {
                    "date": 1719407196223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,15 +25,14 @@\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n                         <label for=\"body\" class=\"form-label\">Corpo</label>\n-                        <textarea class=\"form-control\" id=\"links\" name=\"links\" required></textarea>\n+                        <textarea class=\"form-control\" id=\"body\" name=\"body\" required></textarea>\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n                         <label for=\"links\" class=\"form-label\">Links</label>\n-                        <textarea class=\"form-control\" id=\"links\" name=\"links\" required></textarea>\n                         <input type=\"text\" class=\"form-control\" id=\"body\" name=\"body\" required>\n                     </div>\n                 </div>\n             </div>\n"
                },
                {
                    "date": 1719407203551,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n                         <label for=\"links\" class=\"form-label\">Links</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"body\" name=\"body\" required>\n+                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n                     </div>\n                 </div>\n             </div>\n \n"
                },
                {
                    "date": 1719407234370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,8 +43,14 @@\n                         <label for=\"images\" class=\"form-label\">Immagini</label>\n                         <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n                     </div>\n                 </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"links\" class=\"form-label\">Links</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n+                    </div>\n+                </div>\n             </div>\n \n             <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Contenuto</button>\n         </form>\n"
                },
                {
                    "date": 1719407244101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,14 +28,8 @@\n                         <label for=\"body\" class=\"form-label\">Corpo</label>\n                         <textarea class=\"form-control\" id=\"body\" name=\"body\" required></textarea>\n                     </div>\n                 </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"links\" class=\"form-label\">Links</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n-                    </div>\n-                </div>\n             </div>\n \n             <div class=\"row\">\n                 <div class=\"col-6\">\n"
                },
                {
                    "date": 1719407263327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n                 </div>\n             </div>\n \n             <div class=\"row\">\n-                <div class=\"col-6\">\n+                <div class=\"col-3\">\n                     <div class=\"mb-3\">\n                         <label for=\"images\" class=\"form-label\">Immagini</label>\n                         <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n                     </div>\n"
                },
                {
                    "date": 1719407285104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,273 @@\n+<x-dashboard-layout>\n+    <div class=\"container-fluid mt-5\">\n+        <h1>Gestione Contenuti</h1>\n+        @if (session('success'))\n+            <div class=\"alert alert-success\">\n+                {{ session('success') }}\n+            </div>\n+        @endif\n+\n+        <!-- Form per aggiungere un nuovo contenuto -->\n+        <form action=\"{{ route('contents.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n+            @csrf\n+            <div class=\"row\">\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"title\" class=\"form-label\">Titolo</label>\n+                        <input type=\"string\" class=\"form-control\" id=\"title\" name=\"title\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-12\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"body\" class=\"form-label\">Corpo</label>\n+                        <textarea class=\"form-control\" id=\"body\" name=\"body\" required></textarea>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <div class=\"row\">\n+                <div class=\"col-3\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"images\" class=\"form-label\">Immagini</label>\n+                        <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"links\" class=\"form-label\">Links</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"links\" class=\"form-label\">Links</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Contenuto</button>\n+        </form>\n+\n+        <hr>\n+\n+        <table class=\"table\">\n+            <thead>\n+                <tr>\n+                    <th>#</th>\n+                    <th>Pagina</th>\n+                    <th>Titolo</th>\n+                    <th>Sottotitolo</th>\n+                    <th>Corpo</th>\n+                    <th>Links</th>\n+                    <th>Immagini</th>\n+                    <th>Azioni</th>\n+                </tr>\n+            </thead>\n+            <tbody>\n+                @foreach ($contents as $content)\n+                    <tr>\n+                        <td>{{ $content->id }}</td>\n+                        <td>{{ $content->page }}</td>\n+                        <td>{{ $content->title }}</td>\n+                        <td>{{ $content->subtitle }}</td>\n+                        <td>{{ $content->body }}</td>\n+                        <td>{{ $content->links }}</td>\n+                        <td>\n+                            {{-- @foreach ($content->images as $image)\n+                                <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n+                            @endforeach --}}\n+                            @if ($content->images->count() > 0)\n+                                <small>\n+                                    {{ $content->images->count() }} immagini caricate\n+                                </small>\n+                            @else\n+                                <small>Nessuna immagine</small>\n+                            @endif\n+                        </td>\n+                        <td>\n+                            <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n+                                data-bs-target=\"#contentDetailsModal\" data-content=\"{{ json_encode($content) }}\">\n+                                Modifica\n+                            </button>\n+                            <form action=\"{{ route('contents.destroy', $content) }}\" method=\"POST\"\n+                                style=\"display:inline-block;\">\n+                                @csrf\n+                                @method('DELETE')\n+                                <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n+                            </form>\n+                        </td>\n+                    </tr>\n+                @endforeach\n+            </tbody>\n+        </table>\n+    </div>\n+\n+    <!-- Modale per modificare i dettagli del Contenuto -->\n+    <div class=\"modal fade\" id=\"contentDetailsModal\" tabindex=\"-1\" aria-labelledby=\"contentDetailsModalLabel\"\n+        aria-hidden=\"true\">\n+        <div class=\"modal-dialog\">\n+            <div class=\"modal-content\">\n+                <div class=\"modal-header\">\n+                    <h5 class=\"modal-title\" id=\"contentDetailsModalLabel\">Modifica Contenuto</h5>\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n+                </div>\n+                <div class=\"modal-body\">\n+                    <form id=\"contentDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n+                        @csrf\n+                        @method('PUT')\n+                        <div class=\"mb-3\">\n+                            <label for=\"title\" class=\"form-label\">Titolo</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"body\" class=\"form-label\">Body</label>\n+                            <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"links\" class=\"form-label\">Links</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"images\" class=\"form-label\">Immagini</label>\n+                            <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n+                            <div id=\"current-images\" class=\"mt-3\">\n+                                <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n+                            </div>\n+                        </div>\n+                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Contenuto</button>\n+                    </form>\n+                </div>\n+            </div>\n+        </div>\n+    </div>\n+\n+    <!-- JavaScript per il modale -->\n+    <script>\n+        document.addEventListener(\"DOMContentLoaded\", function() {\n+            // Funzione per mostrare le anteprime delle immagini\n+            function showImagePreviews(files) {\n+                const previewContainer = document.getElementById('current-images');\n+                if (!previewContainer) {\n+                    console.error('Preview container not found.');\n+                    return;\n+                }\n+                previewContainer.innerHTML = '';\n+                Array.from(files).forEach(file => {\n+                    const reader = new FileReader();\n+                    reader.onload = function(e) {\n+                        const imgDiv = document.createElement('div');\n+                        imgDiv.classList.add('current-image');\n+                        imgDiv.innerHTML = `\n+                    <img src=\"${e.target.result}\" alt=\"Immagine\" width=\"100\">\n+                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image-temp\">Elimina</button>\n+                `;\n+                        previewContainer.appendChild(imgDiv);\n+                    };\n+                    reader.readAsDataURL(file);\n+                });\n+            }\n+\n+            // Funzione per gestire la rimozione delle immagini\n+            function handleRemoveImage(imageId) {\n+                const csrfTokenElement = document.querySelector('meta[name=\"csrf-token\"]');\n+                if (!csrfTokenElement) {\n+                    console.error('Elemento CSRF Token non trovato nel documento.');\n+                    return;\n+                }\n+\n+                const csrfToken = csrfTokenElement.getAttribute('content');\n+                fetch(`/dashboard/images/${imageId}`, {\n+                    method: 'DELETE',\n+                    headers: {\n+                        'X-CSRF-TOKEN': csrfToken\n+                    }\n+                }).then(response => {\n+                    if (!response.ok) {\n+                        throw new Error('Errore nella richiesta di eliminazione: ' + response.status);\n+                    }\n+                    return response.json();\n+                }).then(data => {\n+                    if (data.success) {\n+                        // Rimuovi l'elemento visuale dell'immagine\n+                        const imageElement = document.querySelector(\n+                            `.remove-image[data-image-id=\"${imageId}\"]`);\n+                        if (imageElement) {\n+                            imageElement.parentElement.remove();\n+                        }\n+                    } else {\n+                        console.error('Errore nella risposta di eliminazione:', data.error);\n+                    }\n+                }).catch(error => {\n+                    console.error('Errore nella richiesta di eliminazione:', error);\n+                });\n+\n+            }\n+\n+\n+            // Aggiungi evento al cambio di input per mostrare le anteprime delle immagini\n+            document.getElementById('images').addEventListener('change', function() {\n+                showImagePreviews(this.files);\n+            });\n+\n+            // Gestisci il click sui pulsanti \"Elimina Immagine\"\n+            document.addEventListener('click', function(event) {\n+                if (event.target.classList.contains('remove-image')) {\n+                    const imageId = event.target.getAttribute('data-image-id');\n+                    if (imageId) {\n+                        handleRemoveImage(imageId);\n+                    }\n+                }\n+            });\n+\n+            // Aggiungi evento al modale dei dettagli del Contenuto per gestire le immagini esistenti\n+            document.querySelectorAll('.open-details-modal').forEach(button => {\n+                button.addEventListener('click', () => {\n+                    const content = JSON.parse(button.getAttribute('data-content'));\n+                    const form = document.getElementById('contentDetailsForm');\n+                    if (!form) {\n+                        console.error('Form element not found.');\n+                        return;\n+                    }\n+                    form.action = `/dashboard/contents/${content.id}`;\n+                    form.querySelector('#title').value = content.title;\n+                    form.querySelector('#subtitle').value = content.subtitle;\n+                    form.querySelector('#body').value = content.body;\n+                    form.querySelector('#links').value = content.links;\n+\n+                    // Mostra le immagini esistenti nel modale\n+                    const currentImagesDiv = document.getElementById('current-images');\n+                    if (!currentImagesDiv) {\n+                        console.error('Current images container not found.');\n+                        return;\n+                    }\n+                    currentImagesDiv.innerHTML = '';\n+                    content.images.forEach(image => {\n+                        const imgDiv = document.createElement('div');\n+                        imgDiv.classList.add('current-image');\n+                        imgDiv.innerHTML = `\n+                    <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n+                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image\" data-image-id=\"${image.id}\">Elimina</button>\n+                `;\n+                        currentImagesDiv.appendChild(imgDiv);\n+                    });\n+                });\n+            });\n+        });\n+    </script>\n+\n+\n+\n+\n+\n+</x-dashboard-layout>\n"
                },
                {
                    "date": 1719407293511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,11 +37,11 @@\n                         <label for=\"images\" class=\"form-label\">Immagini</label>\n                         <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n                     </div>\n                 </div>\n-                <div class=\"col-6\">\n+                <div class=\"col-3\">\n                     <div class=\"mb-3\">\n-                        <label for=\"links\" class=\"form-label\">Links</label>\n+                        <label for=\"links\" class=\"form-label\">Pagina</label>\n                         <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n@@ -270,271 +270,4 @@\n \n \n \n </x-dashboard-layout>\n-<x-dashboard-layout>\n-    <div class=\"container-fluid mt-5\">\n-        <h1>Gestione Contenuti</h1>\n-        @if (session('success'))\n-            <div class=\"alert alert-success\">\n-                {{ session('success') }}\n-            </div>\n-        @endif\n-\n-        <!-- Form per aggiungere un nuovo contenuto -->\n-        <form action=\"{{ route('contents.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n-            @csrf\n-            <div class=\"row\">\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"title\" class=\"form-label\">Titolo</label>\n-                        <input type=\"string\" class=\"form-control\" id=\"title\" name=\"title\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"body\" class=\"form-label\">Corpo</label>\n-                        <textarea class=\"form-control\" id=\"body\" name=\"body\" required></textarea>\n-                    </div>\n-                </div>\n-            </div>\n-\n-            <div class=\"row\">\n-                <div class=\"col-3\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"images\" class=\"form-label\">Immagini</label>\n-                        <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"links\" class=\"form-label\">Links</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n-                    </div>\n-                </div>\n-            </div>\n-\n-            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Contenuto</button>\n-        </form>\n-\n-        <hr>\n-\n-        <table class=\"table\">\n-            <thead>\n-                <tr>\n-                    <th>#</th>\n-                    <th>Pagina</th>\n-                    <th>Titolo</th>\n-                    <th>Sottotitolo</th>\n-                    <th>Corpo</th>\n-                    <th>Links</th>\n-                    <th>Immagini</th>\n-                    <th>Azioni</th>\n-                </tr>\n-            </thead>\n-            <tbody>\n-                @foreach ($contents as $content)\n-                    <tr>\n-                        <td>{{ $content->id }}</td>\n-                        <td>{{ $content->page }}</td>\n-                        <td>{{ $content->title }}</td>\n-                        <td>{{ $content->subtitle }}</td>\n-                        <td>{{ $content->body }}</td>\n-                        <td>{{ $content->links }}</td>\n-                        <td>\n-                            {{-- @foreach ($content->images as $image)\n-                                <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n-                            @endforeach --}}\n-                            @if ($content->images->count() > 0)\n-                                <small>\n-                                    {{ $content->images->count() }} immagini caricate\n-                                </small>\n-                            @else\n-                                <small>Nessuna immagine</small>\n-                            @endif\n-                        </td>\n-                        <td>\n-                            <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n-                                data-bs-target=\"#contentDetailsModal\" data-content=\"{{ json_encode($content) }}\">\n-                                Modifica\n-                            </button>\n-                            <form action=\"{{ route('contents.destroy', $content) }}\" method=\"POST\"\n-                                style=\"display:inline-block;\">\n-                                @csrf\n-                                @method('DELETE')\n-                                <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n-                            </form>\n-                        </td>\n-                    </tr>\n-                @endforeach\n-            </tbody>\n-        </table>\n-    </div>\n-\n-    <!-- Modale per modificare i dettagli del Contenuto -->\n-    <div class=\"modal fade\" id=\"contentDetailsModal\" tabindex=\"-1\" aria-labelledby=\"contentDetailsModalLabel\"\n-        aria-hidden=\"true\">\n-        <div class=\"modal-dialog\">\n-            <div class=\"modal-content\">\n-                <div class=\"modal-header\">\n-                    <h5 class=\"modal-title\" id=\"contentDetailsModalLabel\">Modifica Contenuto</h5>\n-                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n-                </div>\n-                <div class=\"modal-body\">\n-                    <form id=\"contentDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n-                        @csrf\n-                        @method('PUT')\n-                        <div class=\"mb-3\">\n-                            <label for=\"title\" class=\"form-label\">Titolo</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"body\" class=\"form-label\">Body</label>\n-                            <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"links\" class=\"form-label\">Links</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"images\" class=\"form-label\">Immagini</label>\n-                            <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n-                            <div id=\"current-images\" class=\"mt-3\">\n-                                <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n-                            </div>\n-                        </div>\n-                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Contenuto</button>\n-                    </form>\n-                </div>\n-            </div>\n-        </div>\n-    </div>\n-\n-    <!-- JavaScript per il modale -->\n-    <script>\n-        document.addEventListener(\"DOMContentLoaded\", function() {\n-            // Funzione per mostrare le anteprime delle immagini\n-            function showImagePreviews(files) {\n-                const previewContainer = document.getElementById('current-images');\n-                if (!previewContainer) {\n-                    console.error('Preview container not found.');\n-                    return;\n-                }\n-                previewContainer.innerHTML = '';\n-                Array.from(files).forEach(file => {\n-                    const reader = new FileReader();\n-                    reader.onload = function(e) {\n-                        const imgDiv = document.createElement('div');\n-                        imgDiv.classList.add('current-image');\n-                        imgDiv.innerHTML = `\n-                    <img src=\"${e.target.result}\" alt=\"Immagine\" width=\"100\">\n-                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image-temp\">Elimina</button>\n-                `;\n-                        previewContainer.appendChild(imgDiv);\n-                    };\n-                    reader.readAsDataURL(file);\n-                });\n-            }\n-\n-            // Funzione per gestire la rimozione delle immagini\n-            function handleRemoveImage(imageId) {\n-                const csrfTokenElement = document.querySelector('meta[name=\"csrf-token\"]');\n-                if (!csrfTokenElement) {\n-                    console.error('Elemento CSRF Token non trovato nel documento.');\n-                    return;\n-                }\n-\n-                const csrfToken = csrfTokenElement.getAttribute('content');\n-                fetch(`/dashboard/images/${imageId}`, {\n-                    method: 'DELETE',\n-                    headers: {\n-                        'X-CSRF-TOKEN': csrfToken\n-                    }\n-                }).then(response => {\n-                    if (!response.ok) {\n-                        throw new Error('Errore nella richiesta di eliminazione: ' + response.status);\n-                    }\n-                    return response.json();\n-                }).then(data => {\n-                    if (data.success) {\n-                        // Rimuovi l'elemento visuale dell'immagine\n-                        const imageElement = document.querySelector(\n-                            `.remove-image[data-image-id=\"${imageId}\"]`);\n-                        if (imageElement) {\n-                            imageElement.parentElement.remove();\n-                        }\n-                    } else {\n-                        console.error('Errore nella risposta di eliminazione:', data.error);\n-                    }\n-                }).catch(error => {\n-                    console.error('Errore nella richiesta di eliminazione:', error);\n-                });\n-\n-            }\n-\n-\n-            // Aggiungi evento al cambio di input per mostrare le anteprime delle immagini\n-            document.getElementById('images').addEventListener('change', function() {\n-                showImagePreviews(this.files);\n-            });\n-\n-            // Gestisci il click sui pulsanti \"Elimina Immagine\"\n-            document.addEventListener('click', function(event) {\n-                if (event.target.classList.contains('remove-image')) {\n-                    const imageId = event.target.getAttribute('data-image-id');\n-                    if (imageId) {\n-                        handleRemoveImage(imageId);\n-                    }\n-                }\n-            });\n-\n-            // Aggiungi evento al modale dei dettagli del Contenuto per gestire le immagini esistenti\n-            document.querySelectorAll('.open-details-modal').forEach(button => {\n-                button.addEventListener('click', () => {\n-                    const content = JSON.parse(button.getAttribute('data-content'));\n-                    const form = document.getElementById('contentDetailsForm');\n-                    if (!form) {\n-                        console.error('Form element not found.');\n-                        return;\n-                    }\n-                    form.action = `/dashboard/contents/${content.id}`;\n-                    form.querySelector('#title').value = content.title;\n-                    form.querySelector('#subtitle').value = content.subtitle;\n-                    form.querySelector('#body').value = content.body;\n-                    form.querySelector('#links').value = content.links;\n-\n-                    // Mostra le immagini esistenti nel modale\n-                    const currentImagesDiv = document.getElementById('current-images');\n-                    if (!currentImagesDiv) {\n-                        console.error('Current images container not found.');\n-                        return;\n-                    }\n-                    currentImagesDiv.innerHTML = '';\n-                    content.images.forEach(image => {\n-                        const imgDiv = document.createElement('div');\n-                        imgDiv.classList.add('current-image');\n-                        imgDiv.innerHTML = `\n-                    <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n-                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image\" data-image-id=\"${image.id}\">Elimina</button>\n-                `;\n-                        currentImagesDiv.appendChild(imgDiv);\n-                    });\n-                });\n-            });\n-        });\n-    </script>\n-\n-\n-\n-\n-\n-</x-dashboard-layout>\n"
                },
                {
                    "date": 1719407298852,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,10 +39,10 @@\n                     </div>\n                 </div>\n                 <div class=\"col-3\">\n                     <div class=\"mb-3\">\n-                        <label for=\"links\" class=\"form-label\">Pagina</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n+                        <label for=\"page\" class=\"form-label\">Pagina</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"page\" name=\"page\" required>\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n"
                },
                {
                    "date": 1719407345205,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,9 +40,14 @@\n                 </div>\n                 <div class=\"col-3\">\n                     <div class=\"mb-3\">\n                         <label for=\"page\" class=\"form-label\">Pagina</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"page\" name=\"page\" required>\n+                        <select class=\"form-select\" aria-label=\"Default select example\">\n+                            <option selected>Open this select menu</option>\n+                            <option value=\"1\">One</option>\n+                            <option value=\"2\">Two</option>\n+                            <option value=\"3\">Three</option>\n+                          </select>\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n                     <div class=\"mb-3\">\n"
                },
                {
                    "date": 1719407354639,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n                 <div class=\"col-3\">\n                     <div class=\"mb-3\">\n                         <label for=\"page\" class=\"form-label\">Pagina</label>\n                         <select class=\"form-select\" aria-label=\"Default select example\">\n-                            <option selected>Open this select menu</option>\n+                            <option selected>Seleziona una pagina</option>\n                             <option value=\"1\">One</option>\n                             <option value=\"2\">Two</option>\n                             <option value=\"3\">Three</option>\n                           </select>\n"
                },
                {
                    "date": 1719407360467,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,11 +42,9 @@\n                     <div class=\"mb-3\">\n                         <label for=\"page\" class=\"form-label\">Pagina</label>\n                         <select class=\"form-select\" aria-label=\"Default select example\">\n                             <option selected>Seleziona una pagina</option>\n-                            <option value=\"1\">One</option>\n-                            <option value=\"2\">Two</option>\n-                            <option value=\"3\">Three</option>\n+                            @forea\n                           </select>\n                     </div>\n                 </div>\n                 <div class=\"col-6\">\n"
                },
                {
                    "date": 1719407366040,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,278 @@\n+<x-dashboard-layout>\n+    <div class=\"container-fluid mt-5\">\n+        <h1>Gestione Contenuti</h1>\n+        @if (session('success'))\n+            <div class=\"alert alert-success\">\n+                {{ session('success') }}\n+            </div>\n+        @endif\n+\n+        <!-- Form per aggiungere un nuovo contenuto -->\n+        <form action=\"{{ route('contents.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n+            @csrf\n+            <div class=\"row\">\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"title\" class=\"form-label\">Titolo</label>\n+                        <input type=\"string\" class=\"form-control\" id=\"title\" name=\"title\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-12\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"body\" class=\"form-label\">Corpo</label>\n+                        <textarea class=\"form-control\" id=\"body\" name=\"body\" required></textarea>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <div class=\"row\">\n+                <div class=\"col-3\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"images\" class=\"form-label\">Immagini</label>\n+                        <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n+                    </div>\n+                </div>\n+                <div class=\"col-3\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"page\" class=\"form-label\">Pagina</label>\n+                        <select class=\"form-select\" aria-label=\"Default select example\">\n+                            <option selected>Seleziona una pagina</option>\n+                            @foreach ($ as )\n+                                \n+                            @endforeach\n+                          </select>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"links\" class=\"form-label\">Links</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Contenuto</button>\n+        </form>\n+\n+        <hr>\n+\n+        <table class=\"table\">\n+            <thead>\n+                <tr>\n+                    <th>#</th>\n+                    <th>Pagina</th>\n+                    <th>Titolo</th>\n+                    <th>Sottotitolo</th>\n+                    <th>Corpo</th>\n+                    <th>Links</th>\n+                    <th>Immagini</th>\n+                    <th>Azioni</th>\n+                </tr>\n+            </thead>\n+            <tbody>\n+                @foreach ($contents as $content)\n+                    <tr>\n+                        <td>{{ $content->id }}</td>\n+                        <td>{{ $content->page }}</td>\n+                        <td>{{ $content->title }}</td>\n+                        <td>{{ $content->subtitle }}</td>\n+                        <td>{{ $content->body }}</td>\n+                        <td>{{ $content->links }}</td>\n+                        <td>\n+                            {{-- @foreach ($content->images as $image)\n+                                <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n+                            @endforeach --}}\n+                            @if ($content->images->count() > 0)\n+                                <small>\n+                                    {{ $content->images->count() }} immagini caricate\n+                                </small>\n+                            @else\n+                                <small>Nessuna immagine</small>\n+                            @endif\n+                        </td>\n+                        <td>\n+                            <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n+                                data-bs-target=\"#contentDetailsModal\" data-content=\"{{ json_encode($content) }}\">\n+                                Modifica\n+                            </button>\n+                            <form action=\"{{ route('contents.destroy', $content) }}\" method=\"POST\"\n+                                style=\"display:inline-block;\">\n+                                @csrf\n+                                @method('DELETE')\n+                                <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n+                            </form>\n+                        </td>\n+                    </tr>\n+                @endforeach\n+            </tbody>\n+        </table>\n+    </div>\n+\n+    <!-- Modale per modificare i dettagli del Contenuto -->\n+    <div class=\"modal fade\" id=\"contentDetailsModal\" tabindex=\"-1\" aria-labelledby=\"contentDetailsModalLabel\"\n+        aria-hidden=\"true\">\n+        <div class=\"modal-dialog\">\n+            <div class=\"modal-content\">\n+                <div class=\"modal-header\">\n+                    <h5 class=\"modal-title\" id=\"contentDetailsModalLabel\">Modifica Contenuto</h5>\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n+                </div>\n+                <div class=\"modal-body\">\n+                    <form id=\"contentDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n+                        @csrf\n+                        @method('PUT')\n+                        <div class=\"mb-3\">\n+                            <label for=\"title\" class=\"form-label\">Titolo</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"body\" class=\"form-label\">Body</label>\n+                            <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"links\" class=\"form-label\">Links</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"images\" class=\"form-label\">Immagini</label>\n+                            <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n+                            <div id=\"current-images\" class=\"mt-3\">\n+                                <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n+                            </div>\n+                        </div>\n+                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Contenuto</button>\n+                    </form>\n+                </div>\n+            </div>\n+        </div>\n+    </div>\n+\n+    <!-- JavaScript per il modale -->\n+    <script>\n+        document.addEventListener(\"DOMContentLoaded\", function() {\n+            // Funzione per mostrare le anteprime delle immagini\n+            function showImagePreviews(files) {\n+                const previewContainer = document.getElementById('current-images');\n+                if (!previewContainer) {\n+                    console.error('Preview container not found.');\n+                    return;\n+                }\n+                previewContainer.innerHTML = '';\n+                Array.from(files).forEach(file => {\n+                    const reader = new FileReader();\n+                    reader.onload = function(e) {\n+                        const imgDiv = document.createElement('div');\n+                        imgDiv.classList.add('current-image');\n+                        imgDiv.innerHTML = `\n+                    <img src=\"${e.target.result}\" alt=\"Immagine\" width=\"100\">\n+                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image-temp\">Elimina</button>\n+                `;\n+                        previewContainer.appendChild(imgDiv);\n+                    };\n+                    reader.readAsDataURL(file);\n+                });\n+            }\n+\n+            // Funzione per gestire la rimozione delle immagini\n+            function handleRemoveImage(imageId) {\n+                const csrfTokenElement = document.querySelector('meta[name=\"csrf-token\"]');\n+                if (!csrfTokenElement) {\n+                    console.error('Elemento CSRF Token non trovato nel documento.');\n+                    return;\n+                }\n+\n+                const csrfToken = csrfTokenElement.getAttribute('content');\n+                fetch(`/dashboard/images/${imageId}`, {\n+                    method: 'DELETE',\n+                    headers: {\n+                        'X-CSRF-TOKEN': csrfToken\n+                    }\n+                }).then(response => {\n+                    if (!response.ok) {\n+                        throw new Error('Errore nella richiesta di eliminazione: ' + response.status);\n+                    }\n+                    return response.json();\n+                }).then(data => {\n+                    if (data.success) {\n+                        // Rimuovi l'elemento visuale dell'immagine\n+                        const imageElement = document.querySelector(\n+                            `.remove-image[data-image-id=\"${imageId}\"]`);\n+                        if (imageElement) {\n+                            imageElement.parentElement.remove();\n+                        }\n+                    } else {\n+                        console.error('Errore nella risposta di eliminazione:', data.error);\n+                    }\n+                }).catch(error => {\n+                    console.error('Errore nella richiesta di eliminazione:', error);\n+                });\n+\n+            }\n+\n+\n+            // Aggiungi evento al cambio di input per mostrare le anteprime delle immagini\n+            document.getElementById('images').addEventListener('change', function() {\n+                showImagePreviews(this.files);\n+            });\n+\n+            // Gestisci il click sui pulsanti \"Elimina Immagine\"\n+            document.addEventListener('click', function(event) {\n+                if (event.target.classList.contains('remove-image')) {\n+                    const imageId = event.target.getAttribute('data-image-id');\n+                    if (imageId) {\n+                        handleRemoveImage(imageId);\n+                    }\n+                }\n+            });\n+\n+            // Aggiungi evento al modale dei dettagli del Contenuto per gestire le immagini esistenti\n+            document.querySelectorAll('.open-details-modal').forEach(button => {\n+                button.addEventListener('click', () => {\n+                    const content = JSON.parse(button.getAttribute('data-content'));\n+                    const form = document.getElementById('contentDetailsForm');\n+                    if (!form) {\n+                        console.error('Form element not found.');\n+                        return;\n+                    }\n+                    form.action = `/dashboard/contents/${content.id}`;\n+                    form.querySelector('#title').value = content.title;\n+                    form.querySelector('#subtitle').value = content.subtitle;\n+                    form.querySelector('#body').value = content.body;\n+                    form.querySelector('#links').value = content.links;\n+\n+                    // Mostra le immagini esistenti nel modale\n+                    const currentImagesDiv = document.getElementById('current-images');\n+                    if (!currentImagesDiv) {\n+                        console.error('Current images container not found.');\n+                        return;\n+                    }\n+                    currentImagesDiv.innerHTML = '';\n+                    content.images.forEach(image => {\n+                        const imgDiv = document.createElement('div');\n+                        imgDiv.classList.add('current-image');\n+                        imgDiv.innerHTML = `\n+                    <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n+                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image\" data-image-id=\"${image.id}\">Elimina</button>\n+                `;\n+                        currentImagesDiv.appendChild(imgDiv);\n+                    });\n+                });\n+            });\n+        });\n+    </script>\n+\n+\n+\n+\n+\n+</x-dashboard-layout>\n"
                },
                {
                    "date": 1719407387277,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,9 +42,9 @@\n                     <div class=\"mb-3\">\n                         <label for=\"page\" class=\"form-label\">Pagina</label>\n                         <select class=\"form-select\" aria-label=\"Default select example\">\n                             <option selected>Seleziona una pagina</option>\n-                            @foreach ($ as )\n+                            @foreach ($contents as )\n                                 \n                             @endforeach\n                           </select>\n                     </div>\n@@ -275,280 +275,4 @@\n \n \n \n </x-dashboard-layout>\n-<x-dashboard-layout>\n-    <div class=\"container-fluid mt-5\">\n-        <h1>Gestione Contenuti</h1>\n-        @if (session('success'))\n-            <div class=\"alert alert-success\">\n-                {{ session('success') }}\n-            </div>\n-        @endif\n-\n-        <!-- Form per aggiungere un nuovo contenuto -->\n-        <form action=\"{{ route('contents.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n-            @csrf\n-            <div class=\"row\">\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"title\" class=\"form-label\">Titolo</label>\n-                        <input type=\"string\" class=\"form-control\" id=\"title\" name=\"title\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\" required>\n-                    </div>\n-                </div>\n-                <div class=\"col-12\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"body\" class=\"form-label\">Corpo</label>\n-                        <textarea class=\"form-control\" id=\"body\" name=\"body\" required></textarea>\n-                    </div>\n-                </div>\n-            </div>\n-\n-            <div class=\"row\">\n-                <div class=\"col-3\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"images\" class=\"form-label\">Immagini</label>\n-                        <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n-                    </div>\n-                </div>\n-                <div class=\"col-3\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"page\" class=\"form-label\">Pagina</label>\n-                        <select class=\"form-select\" aria-label=\"Default select example\">\n-                            <option selected>Seleziona una pagina</option>\n-                            @forea\n-                          </select>\n-                    </div>\n-                </div>\n-                <div class=\"col-6\">\n-                    <div class=\"mb-3\">\n-                        <label for=\"links\" class=\"form-label\">Links</label>\n-                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n-                    </div>\n-                </div>\n-            </div>\n-\n-            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Contenuto</button>\n-        </form>\n-\n-        <hr>\n-\n-        <table class=\"table\">\n-            <thead>\n-                <tr>\n-                    <th>#</th>\n-                    <th>Pagina</th>\n-                    <th>Titolo</th>\n-                    <th>Sottotitolo</th>\n-                    <th>Corpo</th>\n-                    <th>Links</th>\n-                    <th>Immagini</th>\n-                    <th>Azioni</th>\n-                </tr>\n-            </thead>\n-            <tbody>\n-                @foreach ($contents as $content)\n-                    <tr>\n-                        <td>{{ $content->id }}</td>\n-                        <td>{{ $content->page }}</td>\n-                        <td>{{ $content->title }}</td>\n-                        <td>{{ $content->subtitle }}</td>\n-                        <td>{{ $content->body }}</td>\n-                        <td>{{ $content->links }}</td>\n-                        <td>\n-                            {{-- @foreach ($content->images as $image)\n-                                <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n-                            @endforeach --}}\n-                            @if ($content->images->count() > 0)\n-                                <small>\n-                                    {{ $content->images->count() }} immagini caricate\n-                                </small>\n-                            @else\n-                                <small>Nessuna immagine</small>\n-                            @endif\n-                        </td>\n-                        <td>\n-                            <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n-                                data-bs-target=\"#contentDetailsModal\" data-content=\"{{ json_encode($content) }}\">\n-                                Modifica\n-                            </button>\n-                            <form action=\"{{ route('contents.destroy', $content) }}\" method=\"POST\"\n-                                style=\"display:inline-block;\">\n-                                @csrf\n-                                @method('DELETE')\n-                                <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n-                            </form>\n-                        </td>\n-                    </tr>\n-                @endforeach\n-            </tbody>\n-        </table>\n-    </div>\n-\n-    <!-- Modale per modificare i dettagli del Contenuto -->\n-    <div class=\"modal fade\" id=\"contentDetailsModal\" tabindex=\"-1\" aria-labelledby=\"contentDetailsModalLabel\"\n-        aria-hidden=\"true\">\n-        <div class=\"modal-dialog\">\n-            <div class=\"modal-content\">\n-                <div class=\"modal-header\">\n-                    <h5 class=\"modal-title\" id=\"contentDetailsModalLabel\">Modifica Contenuto</h5>\n-                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n-                </div>\n-                <div class=\"modal-body\">\n-                    <form id=\"contentDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n-                        @csrf\n-                        @method('PUT')\n-                        <div class=\"mb-3\">\n-                            <label for=\"title\" class=\"form-label\">Titolo</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"body\" class=\"form-label\">Body</label>\n-                            <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"links\" class=\"form-label\">Links</label>\n-                            <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n-                        </div>\n-                        <div class=\"mb-3\">\n-                            <label for=\"images\" class=\"form-label\">Immagini</label>\n-                            <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n-                            <div id=\"current-images\" class=\"mt-3\">\n-                                <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n-                            </div>\n-                        </div>\n-                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Contenuto</button>\n-                    </form>\n-                </div>\n-            </div>\n-        </div>\n-    </div>\n-\n-    <!-- JavaScript per il modale -->\n-    <script>\n-        document.addEventListener(\"DOMContentLoaded\", function() {\n-            // Funzione per mostrare le anteprime delle immagini\n-            function showImagePreviews(files) {\n-                const previewContainer = document.getElementById('current-images');\n-                if (!previewContainer) {\n-                    console.error('Preview container not found.');\n-                    return;\n-                }\n-                previewContainer.innerHTML = '';\n-                Array.from(files).forEach(file => {\n-                    const reader = new FileReader();\n-                    reader.onload = function(e) {\n-                        const imgDiv = document.createElement('div');\n-                        imgDiv.classList.add('current-image');\n-                        imgDiv.innerHTML = `\n-                    <img src=\"${e.target.result}\" alt=\"Immagine\" width=\"100\">\n-                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image-temp\">Elimina</button>\n-                `;\n-                        previewContainer.appendChild(imgDiv);\n-                    };\n-                    reader.readAsDataURL(file);\n-                });\n-            }\n-\n-            // Funzione per gestire la rimozione delle immagini\n-            function handleRemoveImage(imageId) {\n-                const csrfTokenElement = document.querySelector('meta[name=\"csrf-token\"]');\n-                if (!csrfTokenElement) {\n-                    console.error('Elemento CSRF Token non trovato nel documento.');\n-                    return;\n-                }\n-\n-                const csrfToken = csrfTokenElement.getAttribute('content');\n-                fetch(`/dashboard/images/${imageId}`, {\n-                    method: 'DELETE',\n-                    headers: {\n-                        'X-CSRF-TOKEN': csrfToken\n-                    }\n-                }).then(response => {\n-                    if (!response.ok) {\n-                        throw new Error('Errore nella richiesta di eliminazione: ' + response.status);\n-                    }\n-                    return response.json();\n-                }).then(data => {\n-                    if (data.success) {\n-                        // Rimuovi l'elemento visuale dell'immagine\n-                        const imageElement = document.querySelector(\n-                            `.remove-image[data-image-id=\"${imageId}\"]`);\n-                        if (imageElement) {\n-                            imageElement.parentElement.remove();\n-                        }\n-                    } else {\n-                        console.error('Errore nella risposta di eliminazione:', data.error);\n-                    }\n-                }).catch(error => {\n-                    console.error('Errore nella richiesta di eliminazione:', error);\n-                });\n-\n-            }\n-\n-\n-            // Aggiungi evento al cambio di input per mostrare le anteprime delle immagini\n-            document.getElementById('images').addEventListener('change', function() {\n-                showImagePreviews(this.files);\n-            });\n-\n-            // Gestisci il click sui pulsanti \"Elimina Immagine\"\n-            document.addEventListener('click', function(event) {\n-                if (event.target.classList.contains('remove-image')) {\n-                    const imageId = event.target.getAttribute('data-image-id');\n-                    if (imageId) {\n-                        handleRemoveImage(imageId);\n-                    }\n-                }\n-            });\n-\n-            // Aggiungi evento al modale dei dettagli del Contenuto per gestire le immagini esistenti\n-            document.querySelectorAll('.open-details-modal').forEach(button => {\n-                button.addEventListener('click', () => {\n-                    const content = JSON.parse(button.getAttribute('data-content'));\n-                    const form = document.getElementById('contentDetailsForm');\n-                    if (!form) {\n-                        console.error('Form element not found.');\n-                        return;\n-                    }\n-                    form.action = `/dashboard/contents/${content.id}`;\n-                    form.querySelector('#title').value = content.title;\n-                    form.querySelector('#subtitle').value = content.subtitle;\n-                    form.querySelector('#body').value = content.body;\n-                    form.querySelector('#links').value = content.links;\n-\n-                    // Mostra le immagini esistenti nel modale\n-                    const currentImagesDiv = document.getElementById('current-images');\n-                    if (!currentImagesDiv) {\n-                        console.error('Current images container not found.');\n-                        return;\n-                    }\n-                    currentImagesDiv.innerHTML = '';\n-                    content.images.forEach(image => {\n-                        const imgDiv = document.createElement('div');\n-                        imgDiv.classList.add('current-image');\n-                        imgDiv.innerHTML = `\n-                    <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n-                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image\" data-image-id=\"${image.id}\">Elimina</button>\n-                `;\n-                        currentImagesDiv.appendChild(imgDiv);\n-                    });\n-                });\n-            });\n-        });\n-    </script>\n-\n-\n-\n-\n-\n-</x-dashboard-layout>\n"
                },
                {
                    "date": 1719407402231,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,10 +42,10 @@\n                     <div class=\"mb-3\">\n                         <label for=\"page\" class=\"form-label\">Pagina</label>\n                         <select class=\"form-select\" aria-label=\"Default select example\">\n                             <option selected>Seleziona una pagina</option>\n-                            @foreach ($contents as )\n-                                \n+                            @foreach ($contents as $content)\n+                            <option value=\"1\">One</option>\n                             @endforeach\n                           </select>\n                     </div>\n                 </div>\n"
                },
                {
                    "date": 1719407418963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n                         <label for=\"page\" class=\"form-label\">Pagina</label>\n                         <select class=\"form-select\" aria-label=\"Default select example\">\n                             <option selected>Seleziona una pagina</option>\n                             @foreach ($contents as $content)\n-                            <option value=\"{{}}\">One</option>\n+                            <option value=\"{{$content->id}}\">One</option>\n                             @endforeach\n                           </select>\n                     </div>\n                 </div>\n"
                },
                {
                    "date": 1719410752828,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,278 @@\n+<x-dashboard-layout>\n+    <div class=\"container-fluid mt-5\">\n+        <h1>Gestione Contenuti</h1>\n+        @if (session('success'))\n+            <div class=\"alert alert-success\">\n+                {{ session('success') }}\n+            </div>\n+        @endif\n+\n+        <!-- Form per aggiungere un nuovo contenuto -->\n+        <form action=\"{{ route('contents.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n+            @csrf\n+            <div class=\"row\">\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"title\" class=\"form-label\">Titolo</label>\n+                        <input type=\"string\" class=\"form-control\" id=\"title\" name=\"title\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\" required>\n+                    </div>\n+                </div>\n+                <div class=\"col-12\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"body\" class=\"form-label\">Corpo</label>\n+                        <textarea class=\"form-control\" id=\"body\" name=\"body\" required></textarea>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <div class=\"row\">\n+                <div class=\"col-3\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"images\" class=\"form-label\">Immagini</label>\n+                        <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n+                    </div>\n+                </div>\n+                <div class=\"col-3\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"page\" class=\"form-label\">Pagina</label>\n+                        <select id=\"page\" name=\"page\" class=\"form-select\" aria-label=\"Default select example\">\n+                            <option selected>Seleziona una pagina</option>\n+                            @foreach ($pages as $content)\n+                                <option value=\"{{ $content->id }}\">{{ $content->page }}</option>\n+                            @endforeach\n+                        </select>\n+                    </div>\n+                </div>\n+                <div class=\"col-6\">\n+                    <div class=\"mb-3\">\n+                        <label for=\"links\" class=\"form-label\">Links</label>\n+                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Contenuto</button>\n+        </form>\n+\n+        <hr>\n+\n+        <table class=\"table\">\n+            <thead>\n+                <tr>\n+                    <th>#</th>\n+                    <th>Pagina</th>\n+                    <th>Titolo</th>\n+                    <th>Sottotitolo</th>\n+                    <th>Corpo</th>\n+                    <th>Links</th>\n+                    <th>Immagini</th>\n+                    <th>Azioni</th>\n+                </tr>\n+            </thead>\n+            <tbody>\n+                @foreach ($contents as $content)\n+                    <tr>\n+                        <td>{{ $content->id }}</td>\n+                        <td>{{ $content->page }}</td>\n+                        <td>{{ $content->title }}</td>\n+                        <td>{{ $content->subtitle }}</td>\n+                        <td>{{ $content->body }}</td>\n+                        <td>{{ $content->links }}</td>\n+                        <td>\n+                            {{-- @foreach ($content->images as $image)\n+                                <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n+                            @endforeach --}}\n+                            @if ($content->images->count() > 0)\n+                                <small>\n+                                    {{ $content->images->count() }} immagini caricate\n+                                </small>\n+                            @else\n+                                <small>Nessuna immagine</small>\n+                            @endif\n+                        </td>\n+                        <td>\n+                            <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n+                                data-bs-target=\"#contentDetailsModal\" data-content=\"{{ json_encode($content) }}\">\n+                                Modifica\n+                            </button>\n+                            <form action=\"{{ route('contents.destroy', $content) }}\" method=\"POST\"\n+                                style=\"display:inline-block;\">\n+                                @csrf\n+                                @method('DELETE')\n+                                <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n+                            </form>\n+                        </td>\n+                    </tr>\n+                @endforeach\n+            </tbody>\n+        </table>\n+    </div>\n+\n+    <!-- Modale per modificare i dettagli del Contenuto -->\n+    <div class=\"modal fade\" id=\"contentDetailsModal\" tabindex=\"-1\" aria-labelledby=\"contentDetailsModalLabel\"\n+        aria-hidden=\"true\">\n+        <div class=\"modal-dialog\">\n+            <div class=\"modal-content\">\n+                <div class=\"modal-header\">\n+                    <h5 class=\"modal-title\" id=\"contentDetailsModalLabel\">Modifica Contenuto</h5>\n+                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n+                </div>\n+                <div class=\"modal-body\">\n+                    <form id=\"contentDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n+                        @csrf\n+                        @method('PUT')\n+                        <div class=\"mb-3\">\n+                            <label for=\"title\" class=\"form-label\">Titolo</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"body\" class=\"form-label\">Body</label>\n+                            <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"links\" class=\"form-label\">Links</label>\n+                            <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n+                        </div>\n+                        <div class=\"mb-3\">\n+                            <label for=\"images\" class=\"form-label\">Immagini</label>\n+                            <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n+                            <div id=\"current-images\" class=\"mt-3\">\n+                                <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n+                            </div>\n+                        </div>\n+                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Contenuto</button>\n+                    </form>\n+                </div>\n+            </div>\n+        </div>\n+    </div>\n+\n+    <!-- JavaScript per il modale -->\n+    <script>\n+        document.addEventListener(\"DOMContentLoaded\", function() {\n+            // Funzione per mostrare le anteprime delle immagini\n+            function showImagePreviews(files) {\n+                const previewContainer = document.getElementById('current-images');\n+                if (!previewContainer) {\n+                    console.error('Preview container not found.');\n+                    return;\n+                }\n+                previewContainer.innerHTML = '';\n+                Array.from(files).forEach(file => {\n+                    const reader = new FileReader();\n+                    reader.onload = function(e) {\n+                        const imgDiv = document.createElement('div');\n+                        imgDiv.classList.add('current-image');\n+                        imgDiv.innerHTML = `\n+                    <img src=\"${e.target.result}\" alt=\"Immagine\" width=\"100\">\n+                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image-temp\">Elimina</button>\n+                `;\n+                        previewContainer.appendChild(imgDiv);\n+                    };\n+                    reader.readAsDataURL(file);\n+                });\n+            }\n+\n+            // Funzione per gestire la rimozione delle immagini\n+            function handleRemoveImage(imageId) {\n+                const csrfTokenElement = document.querySelector('meta[name=\"csrf-token\"]');\n+                if (!csrfTokenElement) {\n+                    console.error('Elemento CSRF Token non trovato nel documento.');\n+                    return;\n+                }\n+\n+                const csrfToken = csrfTokenElement.getAttribute('content');\n+                fetch(`/dashboard/images/${imageId}`, {\n+                    method: 'DELETE',\n+                    headers: {\n+                        'X-CSRF-TOKEN': csrfToken\n+                    }\n+                }).then(response => {\n+                    if (!response.ok) {\n+                        throw new Error('Errore nella richiesta di eliminazione: ' + response.status);\n+                    }\n+                    return response.json();\n+                }).then(data => {\n+                    if (data.success) {\n+                        // Rimuovi l'elemento visuale dell'immagine\n+                        const imageElement = document.querySelector(\n+                            `.remove-image[data-image-id=\"${imageId}\"]`);\n+                        if (imageElement) {\n+                            imageElement.parentElement.remove();\n+                        }\n+                    } else {\n+                        console.error('Errore nella risposta di eliminazione:', data.error);\n+                    }\n+                }).catch(error => {\n+                    console.error('Errore nella richiesta di eliminazione:', error);\n+                });\n+\n+            }\n+\n+\n+            // Aggiungi evento al cambio di input per mostrare le anteprime delle immagini\n+            document.getElementById('images').addEventListener('change', function() {\n+                showImagePreviews(this.files);\n+            });\n+\n+            // Gestisci il click sui pulsanti \"Elimina Immagine\"\n+            document.addEventListener('click', function(event) {\n+                if (event.target.classList.contains('remove-image')) {\n+                    const imageId = event.target.getAttribute('data-image-id');\n+                    if (imageId) {\n+                        handleRemoveImage(imageId);\n+                    }\n+                }\n+            });\n+\n+            // Aggiungi evento al modale dei dettagli del Contenuto per gestire le immagini esistenti\n+            document.querySelectorAll('.open-details-modal').forEach(button => {\n+                button.addEventListener('click', () => {\n+                    const content = JSON.parse(button.getAttribute('data-content'));\n+                    const form = document.getElementById('contentDetailsForm');\n+                    if (!form) {\n+                        console.error('Form element not found.');\n+                        return;\n+                    }\n+                    form.action = `/dashboard/contents/${content.id}`;\n+                    form.querySelector('#title').value = content.title;\n+                    form.querySelector('#subtitle').value = content.subtitle;\n+                    form.querySelector('#body').value = content.body;\n+                    form.querySelector('#links').value = content.links;\n+\n+                    // Mostra le immagini esistenti nel modale\n+                    const currentImagesDiv = document.getElementById('current-images');\n+                    if (!currentImagesDiv) {\n+                        console.error('Current images container not found.');\n+                        return;\n+                    }\n+                    currentImagesDiv.innerHTML = '';\n+                    content.images.forEach(image => {\n+                        const imgDiv = document.createElement('div');\n+                        imgDiv.classList.add('current-image');\n+                        imgDiv.innerHTML = `\n+                    <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n+                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image\" data-image-id=\"${image.id}\">Elimina</button>\n+                `;\n+                        currentImagesDiv.appendChild(imgDiv);\n+                    });\n+                });\n+            });\n+        });\n+    </script>\n+\n+\n+\n+\n+\n+</x-dashboard-layout>\n"
                }
            ],
            "date": 1719405875939,
            "name": "Commit-0",
            "content": "<x-dashboard-layout>\n    <div class=\"container-fluid mt-5\">\n        <h1>Gestione Servizi</h1>\n        @if (session('success'))\n            <div class=\"alert alert-success\">\n                {{ session('success') }}\n            </div>\n        @endif\n\n        <!-- Form per aggiungere un nuovo servizio -->\n        <form action=\"{{ route('services.store') }}\" method=\"POST\" enctype=\"multipart/form-data\">\n            @csrf\n            <div class=\"row\">\n                <div class=\"col-6\">\n                    <div class=\"mb-3\">\n                        <label for=\"title\" class=\"form-label\">Titolo</label>\n                        <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\" required>\n                    </div>\n                </div>\n                <div class=\"col-6\">\n                    <div class=\"mb-3\">\n                        <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n                        <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\" required>\n                    </div>\n                </div>\n                <div class=\"col-6\">\n                    <div class=\"mb-3\">\n                        <label for=\"subtitleSec\" class=\"form-label\">Sottotitolo Secondario</label>\n                        <input type=\"text\" class=\"form-control\" id=\"subtitleSec\" name=\"subtitleSec\" required>\n                    </div>\n                </div>\n                <div class=\"col-6\">\n                    <div class=\"mb-3\">\n                        <label for=\"abstract\" class=\"form-label\">Abstract</label>\n                        <textarea class=\"form-control\" id=\"abstract\" name=\"abstract\" required></textarea>\n                    </div>\n                </div>\n            </div>\n\n\n            <div class=\"mb-3\">\n                <label for=\"body\" class=\"form-label\">Body</label>\n                <textarea class=\"form-control\" id=\"body\" name=\"body\" required></textarea>\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"condition\" class=\"form-label\">Condizioni</label>\n                <textarea class=\"form-control\" id=\"condition\" name=\"condition\" required></textarea>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-6\">\n                    <div class=\"mb-3\">\n                        <label for=\"images\" class=\"form-label\">Immagini</label>\n                        <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n                    </div>\n                </div>\n                <div class=\"col-6\">\n                    <div class=\"mb-3\">\n                        <label for=\"links\" class=\"form-label\">Links</label>\n                        <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\" required>\n                    </div>\n                </div>\n            </div>\n\n\n\n\n            <button type=\"submit\" class=\"btn btn-primary\">Aggiungi Servizio</button>\n        </form>\n\n        <hr>\n\n        <table class=\"table\">\n            <thead>\n                <tr>\n                    <th>#</th>\n                    <th>Titolo</th>\n                    <th>Sottotitolo</th>\n                    <th>Sottotitolo Secondario</th>\n                    <th>Abstract</th>\n                    <th>Body</th>\n                    <th>Links</th>\n                    <th>Condizioni</th>\n                    <th>Immagini</th>\n                    <th>Azioni</th>\n                </tr>\n            </thead>\n            <tbody>\n                @foreach ($services as $service)\n                    <tr>\n                        <td>{{ $service->id }}</td>\n                        <td>{{ $service->title }}</td>\n                        <td>{{ $service->subtitle }}</td>\n                        <td>{{ $service->subtitleSec }}</td>\n                        <td>{{ $service->abstract }}</td>\n                        <td>{{ $service->body }}</td>\n                        <td>{{ $service->links }}</td>\n                        <td>{{ $service->condition }}</td>\n                        <td>\n                            {{-- @foreach ($service->images as $image)\n                                <img src=\"{{ asset('storage/' . $image->path) }}\" alt=\"Immagine\" width=\"100\">\n                            @endforeach --}}\n                            @if ($service->images->count() > 0)\n                                <small>\n                                    {{ $service->images->count() }} immagini caricate\n                                </small>\n                            @else\n                                <small>Nessuna immagine</small>\n                            @endif\n                        </td>\n                        <td>\n                            <button class=\"btn btn-warning btn-sm open-details-modal\" data-bs-toggle=\"modal\"\n                                data-bs-target=\"#serviceDetailsModal\" data-service=\"{{ json_encode($service) }}\">\n                                Modifica\n                            </button>\n                            <form action=\"{{ route('services.destroy', $service) }}\" method=\"POST\"\n                                style=\"display:inline-block;\">\n                                @csrf\n                                @method('DELETE')\n                                <button type=\"submit\" class=\"btn btn-danger btn-sm\">Elimina</button>\n                            </form>\n                        </td>\n                    </tr>\n                @endforeach\n            </tbody>\n        </table>\n    </div>\n\n    <!-- Modale per modificare i dettagli del servizio -->\n    <div class=\"modal fade\" id=\"serviceDetailsModal\" tabindex=\"-1\" aria-labelledby=\"serviceDetailsModalLabel\"\n        aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"serviceDetailsModalLabel\">Modifica Servizio</h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n                    <form id=\"serviceDetailsForm\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n                        @csrf\n                        @method('PUT')\n                        <div class=\"mb-3\">\n                            <label for=\"title\" class=\"form-label\">Titolo</label>\n                            <input type=\"text\" class=\"form-control\" id=\"title\" name=\"title\">\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"subtitle\" class=\"form-label\">Sottotitolo</label>\n                            <input type=\"text\" class=\"form-control\" id=\"subtitle\" name=\"subtitle\">\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"subtitleSec\" class=\"form-label\">Sottotitolo Secondario</label>\n                            <input type=\"text\" class=\"form-control\" id=\"subtitleSec\" name=\"subtitleSec\">\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"abstract\" class=\"form-label\">Abstract</label>\n                            <textarea class=\"form-control\" id=\"abstract\" name=\"abstract\"></textarea>\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"body\" class=\"form-label\">Body</label>\n                            <textarea class=\"form-control\" id=\"body\" name=\"body\"></textarea>\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"links\" class=\"form-label\">Links</label>\n                            <input type=\"text\" class=\"form-control\" id=\"links\" name=\"links\">\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"condition\" class=\"form-label\">Condizioni</label>\n                            <textarea class=\"form-control\" id=\"condition\" name=\"condition\"></textarea>\n                        </div>\n                        <div class=\"mb-3\">\n                            <label for=\"images\" class=\"form-label\">Immagini</label>\n                            <input type=\"file\" class=\"form-control\" id=\"images\" name=\"images[]\" multiple>\n                            <div id=\"current-images\" class=\"mt-3\">\n                                <!-- Anteprime delle immagini esistenti verranno aggiunte qui -->\n                            </div>\n                        </div>\n                        <button type=\"submit\" class=\"btn btn-primary\">Aggiorna Servizio</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- JavaScript per il modale -->\n    <script>\n        document.addEventListener(\"DOMContentLoaded\", function() {\n            // Funzione per mostrare le anteprime delle immagini\n            function showImagePreviews(files) {\n                const previewContainer = document.getElementById('current-images');\n                if (!previewContainer) {\n                    console.error('Preview container not found.');\n                    return;\n                }\n                previewContainer.innerHTML = '';\n                Array.from(files).forEach(file => {\n                    const reader = new FileReader();\n                    reader.onload = function(e) {\n                        const imgDiv = document.createElement('div');\n                        imgDiv.classList.add('current-image');\n                        imgDiv.innerHTML = `\n                    <img src=\"${e.target.result}\" alt=\"Immagine\" width=\"100\">\n                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image-temp\">Elimina</button>\n                `;\n                        previewContainer.appendChild(imgDiv);\n                    };\n                    reader.readAsDataURL(file);\n                });\n            }\n\n            // Funzione per gestire la rimozione delle immagini\n            function handleRemoveImage(imageId) {\n                const csrfTokenElement = document.querySelector('meta[name=\"csrf-token\"]');\n                if (!csrfTokenElement) {\n                    console.error('Elemento CSRF Token non trovato nel documento.');\n                    return;\n                }\n\n                const csrfToken = csrfTokenElement.getAttribute('content');\n                fetch(`/dashboard/images/${imageId}`, {\n                    method: 'DELETE',\n                    headers: {\n                        'X-CSRF-TOKEN': csrfToken\n                    }\n                }).then(response => {\n                    if (!response.ok) {\n                        throw new Error('Errore nella richiesta di eliminazione: ' + response.status);\n                    }\n                    return response.json();\n                }).then(data => {\n                    if (data.success) {\n                        // Rimuovi l'elemento visuale dell'immagine\n                        const imageElement = document.querySelector(\n                            `.remove-image[data-image-id=\"${imageId}\"]`);\n                        if (imageElement) {\n                            imageElement.parentElement.remove();\n                        }\n                    } else {\n                        console.error('Errore nella risposta di eliminazione:', data.error);\n                    }\n                }).catch(error => {\n                    console.error('Errore nella richiesta di eliminazione:', error);\n                });\n\n            }\n\n\n            // Aggiungi evento al cambio di input per mostrare le anteprime delle immagini\n            document.getElementById('images').addEventListener('change', function() {\n                showImagePreviews(this.files);\n            });\n\n            // Gestisci il click sui pulsanti \"Elimina Immagine\"\n            document.addEventListener('click', function(event) {\n                if (event.target.classList.contains('remove-image')) {\n                    const imageId = event.target.getAttribute('data-image-id');\n                    if (imageId) {\n                        handleRemoveImage(imageId);\n                    }\n                }\n            });\n\n            // Aggiungi evento al modale dei dettagli del servizio per gestire le immagini esistenti\n            document.querySelectorAll('.open-details-modal').forEach(button => {\n                button.addEventListener('click', () => {\n                    const service = JSON.parse(button.getAttribute('data-service'));\n                    const form = document.getElementById('serviceDetailsForm');\n                    if (!form) {\n                        console.error('Form element not found.');\n                        return;\n                    }\n                    form.action = `/dashboard/services/${service.id}`;\n                    form.querySelector('#title').value = service.title;\n                    form.querySelector('#subtitle').value = service.subtitle;\n                    form.querySelector('#subtitleSec').value = service.subtitleSec;\n                    form.querySelector('#abstract').value = service.abstract;\n                    form.querySelector('#body').value = service.body;\n                    form.querySelector('#links').value = service.links;\n                    form.querySelector('#condition').value = service.condition;\n\n                    // Mostra le immagini esistenti nel modale\n                    const currentImagesDiv = document.getElementById('current-images');\n                    if (!currentImagesDiv) {\n                        console.error('Current images container not found.');\n                        return;\n                    }\n                    currentImagesDiv.innerHTML = '';\n                    service.images.forEach(image => {\n                        const imgDiv = document.createElement('div');\n                        imgDiv.classList.add('current-image');\n                        imgDiv.innerHTML = `\n                    <img src=\"/storage/${image.path}\" alt=\"Immagine\" width=\"100\">\n                    <button type=\"button\" class=\"btn btn-danger btn-sm remove-image\" data-image-id=\"${image.id}\">Elimina</button>\n                `;\n                        currentImagesDiv.appendChild(imgDiv);\n                    });\n                });\n            });\n        });\n    </script>\n\n\n\n\n\n</x-dashboard-layout>\n"
        }
    ]
}